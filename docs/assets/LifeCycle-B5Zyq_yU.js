import{_ as V,i as r,j as P,k as R,l as T,c as i,a as e,b as $,u as j,F as h,h as f,g as w,m as G,t as n,d as Y,n as L,L as q,o,p as z}from"./index-DlMObJ4m.js";import{L as H}from"./LandmarkNetwork-BXu360JY.js";import"./quadtree-CCDVtcAm.js";const J=[{year:"645年",title:"法源寺创建",event:"法源寺创建",period:"645年（唐贞观十九年）",description:"法源寺由唐太宗李世民所建，是北京最古老的佛教寺庙之一，最初用于佛教的传播和修行。",metrics:[{value:"5",label:"主要建筑"},{value:"3.5",label:"公顷"}],features:["唐代建筑风格","古老的佛教文化","精美的佛教艺术","历史悠久的宗教场所"],relatedFigures:["唐太宗李世民"],relatedEvents:["唐代佛教兴盛","佛教文化传播"]},{year:"1100年",title:"北宋重修",event:"北宋重修",period:"1100年（北宋宣和年间）",description:"法源寺在北宋时期经历了重要的重修，增加了许多新的建筑和佛教艺术作品，成为当时的重要宗教中心。",metrics:[{value:"8",label:"主要建筑"},{value:"3.5",label:"公顷"}],features:["北宋建筑风格","增加了佛教艺术品","成为重要宗教中心","吸引了大量信徒"],relatedFigures:["北宋皇帝"],relatedEvents:["北宋时期佛教复兴","宗教文化交流"]},{year:"1644年",title:"明清交替",event:"明清交替",period:"1644年（明末清初）",description:"法源寺在明清交替之际，继续发挥其宗教和文化的作用，成为许多文人墨客的朝圣之地。",metrics:[{value:"10",label:"主要建筑"},{value:"3.5",label:"公顷"}],features:["文人墨客的朝圣地","丰富的文化活动","宗教与文化的交融","重要的历史见证"],relatedFigures:["文人墨客"],relatedEvents:["明清文化交融","历史文化遗产"]},{year:"1912年",title:"民国时期",event:"民国时期",period:"1912年（民国元年）",description:"法源寺在民国时期经历了多次修缮，成为了重要的文化遗产保护场所，吸引了众多游客和信徒。",metrics:[{value:"12",label:"主要建筑"},{value:"3.5",label:"公顷"}],features:["重要的文化遗产保护","吸引游客和信徒","促进佛教文化传播","历史建筑的修缮与保护"],relatedFigures:["民国政府"],relatedEvents:["文化遗产保护","佛教文化复兴"]},{year:"2000年",title:"文化遗产保护",event:"文化遗产保护",period:"2000年",description:"法源寺被列为全国重点文物保护单位，标志着其文化和历史价值的认可，进入了新的保护与传承阶段。",metrics:[{value:"15",label:"主要建筑"},{value:"3.5",label:"公顷"}],features:["全国重点文物保护单位","文化和历史价值的认可","加强遗产保护与传承","促进文化交流与传播"],relatedFigures:["文化部"],relatedEvents:["文化遗产保护政策","佛教文化的现代化"]}],K={class:"lifecycle-container"},Q={class:"lifecycle-main"},U={class:"timeline-nav"},W=["onClick"],X={class:"timeline-year"},Z={class:"content-wrapper"},ee={class:"timeline-section"},ae={class:"timeline"},te=["onClick"],se={class:"timeline-year"},le={class:"timeline-title"},ie={class:"modal-content"},oe={class:"modal-body"},ne={class:"history-card"},re={class:"history-info"},de={class:"history-period"},ce={class:"history-desc"},ue={class:"history-metrics"},ve={class:"metric-value"},pe={class:"metric-label"},ye={key:0,class:"architectural-features"},me={class:"network-section",style:{"min-width":"340px","max-width":"500px"}},he={class:"visualization-section"},fe={class:"visualization-card"},be={class:"visualization-card"},_e={class:"visualization-card"},ge={class:"lifecycle-footer"},xe={__name:"LifeCycle",setup(ke){const A=j(),I=()=>A.push("/landmarks/fayuan-temple"),y=r(!1),c=r(0),u=P(()=>v.value[c.value]),v=r(J);function D(t,a){c.value=t,y.value=!0}function S(){y.value=!1}function F(t){c.value=t,y.value=!0}const b=r(null),_=r(null),g=r(null);let d=null,p=null,m=null;const C=r({years:v.value.map(t=>t.year),sizes:[5,8,10,12,15]}),x=r({years:v.value.map(t=>t.year),types:[{name:"宗教建筑",data:[2,3,5,6,8]},{name:"文化设施",data:[1,2,3,4,5]},{name:"服务设施",data:[0,1,1,2,3]},{name:"景观设施",data:[1,2,1,2,3]}]}),k=r({years:v.value.map(t=>t.year),layout:[{name:"初建时期",data:[1,0,0,0,0]},{name:"重修时期",data:[0,1,1,1,1]},{name:"文化遗产",data:[0,0,0,0,1]},{name:"现代化发展",data:[0,0,0,0,1]}]}),E=()=>{if(b.value){d=L(b.value);const t={tooltip:{trigger:"axis",formatter:"{b0}<br/>主要建筑：{c0}处"},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",data:C.value.years,axisLine:{lineStyle:{color:"#8b4513"}},axisLabel:{color:"#5a4a42"}},yAxis:{type:"value",min:0,axisLine:{lineStyle:{color:"#8b4513"}},axisLabel:{color:"#5a4a42"},splitLine:{lineStyle:{color:"rgba(139, 69, 19, 0.1)"}}},series:[{name:"主要建筑",type:"line",smooth:!0,symbol:"circle",symbolSize:8,lineStyle:{width:4,color:"#4caf50"},itemStyle:{color:"#4caf50"},areaStyle:{color:new q(0,0,0,1,[{offset:0,color:"rgba(76,175,80,0.25)"},{offset:1,color:"rgba(76,175,80,0.05)"}])},data:C.value.sizes}]};d.setOption(t)}},N=()=>{if(_.value){p=L(_.value);const t={tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{data:x.value.types.map(a=>a.name),textStyle:{color:"#5a4a42"},bottom:0},grid:{left:"3%",right:"4%",bottom:"15%",containLabel:!0},xAxis:{type:"category",data:x.value.years,axisLine:{lineStyle:{color:"#8b4513"}},axisLabel:{color:"#5a4a42"}},yAxis:{type:"value",axisLine:{lineStyle:{color:"#8b4513"}},axisLabel:{color:"#5a4a42"},splitLine:{lineStyle:{color:"rgba(139, 69, 19, 0.1)"}}},series:x.value.types.map((a,s)=>({name:a.name,type:"bar",stack:"total",emphasis:{focus:"series"},data:a.data,itemStyle:{color:["#4caf50","#ff9800","#b3cbb9","#90caf9"][s]}}))};p.setOption(t)}},B=()=>{if(g.value){m=L(g.value);const t={tooltip:{trigger:"axis"},legend:{data:k.value.layout.map(a=>a.name),textStyle:{color:"#5a4a42"},bottom:0},grid:{left:"3%",right:"4%",bottom:"15%",containLabel:!0},xAxis:{type:"category",data:k.value.years,axisLine:{lineStyle:{color:"#8b4513"}},axisLabel:{color:"#5a4a42"}},yAxis:{type:"value",min:0,max:4,axisLine:{lineStyle:{color:"#8b4513"}},axisLabel:{color:"#5a4a42",formatter:a=>a===0?"":a},splitLine:{lineStyle:{color:"rgba(139, 69, 19, 0.1)"}}},series:k.value.layout.map((a,s)=>({name:a.name,type:"line",stack:"total",areaStyle:{opacity:.7},symbol:"circle",symbolSize:8,lineStyle:{width:3,color:["#388e3c","#bfa46f","#ca8622","#91c7ae"][s]},itemStyle:{color:["#388e3c","#bfa46f","#ca8622","#91c7ae"][s]},data:a.data}))};m.setOption(t)}};R(c,t=>{d&&(d.dispatchAction({type:"downplay",seriesIndex:0}),d.dispatchAction({type:"highlight",seriesIndex:0,dataIndex:t}),d.dispatchAction({type:"showTip",seriesIndex:0,dataIndex:t})),p&&p.dispatchAction({type:"highlight",seriesIndex:t})});const M=()=>{d&&d.resize(),p&&p.resize(),m&&m.resize()};return T(()=>{E(),N(),B(),window.addEventListener("resize",M)}),(t,a)=>(o(),i("div",K,[e("div",{class:"lifecycle-header"},[a[0]||(a[0]=e("h1",null,"法源寺建筑与功能演变",-1)),a[1]||(a[1]=e("p",{class:"intro-text"},"从唐代创建到现代文化遗产保护的千年古刹变迁",-1)),e("button",{onClick:I,class:"back-button"},"← 返回法源寺门户"),a[2]||(a[2]=$('<div class="status-overview" data-v-ddae3292><div class="status-card" data-v-ddae3292><span class="status-icon" data-v-ddae3292>🕌</span><div data-v-ddae3292><h3 data-v-ddae3292>主要建筑</h3><p class="status-value" data-v-ddae3292>15余处</p></div></div><div class="status-card" data-v-ddae3292><span class="status-icon" data-v-ddae3292>⏳</span><div data-v-ddae3292><h3 data-v-ddae3292>历史跨度</h3><p class="status-value" data-v-ddae3292>1300+年</p></div></div><div class="status-card" data-v-ddae3292><span class="status-icon" data-v-ddae3292>🌳</span><div data-v-ddae3292><h3 data-v-ddae3292>占地面积</h3><p class="status-value" data-v-ddae3292>3.5公顷</p></div></div></div>',1))]),e("div",Q,[e("div",U,[(o(!0),i(h,null,f(v.value,(s,l)=>(o(),i("div",{key:l,class:z(["timeline-point",{active:c.value===l}]),onClick:O=>F(l)},[a[3]||(a[3]=e("div",{class:"timeline-marker"},null,-1)),e("span",X,n(s.year),1)],10,W))),128))]),e("div",Z,[e("div",ee,[e("div",ae,[a[5]||(a[5]=e("div",{class:"timeline-line"},null,-1)),(o(!0),i(h,null,f(v.value,(s,l)=>(o(),i("div",{key:l,class:z(["timeline-item",{active:c.value===l}]),onClick:O=>D(l)},[a[4]||(a[4]=e("div",{class:"timeline-dot"},null,-1)),e("div",se,n(s.year),1),e("div",le,n(s.title),1)],10,te))),128))])]),y.value?(o(),i("div",{key:0,class:"modal-overlay",onClick:G(S,["self"])},[e("div",ie,[e("button",{class:"modal-close",onClick:S},"×"),e("div",oe,[e("div",ne,[e("div",re,[e("h2",null,n(u.value.title),1),e("div",de,n(u.value.period),1),e("div",ce,n(u.value.description),1),e("div",ue,[(o(!0),i(h,null,f(u.value.metrics,(s,l)=>(o(),i("div",{class:"metric",key:l},[e("div",ve,n(s.value),1),e("div",pe,n(s.label),1)]))),128))]),u.value.features&&u.value.features.length?(o(),i("div",ye,[a[6]||(a[6]=e("h3",null,"建筑与景观特点",-1)),e("ul",null,[(o(!0),i(h,null,f(u.value.features,(s,l)=>(o(),i("li",{key:l},n(s),1))),128))]),a[7]||(a[7]=e("div",{class:"features-desc",style:{"margin-top":"10px",color:"#6b5b3e"}}," 法源寺以其悠久的历史和独特的建筑风格闻名，寺内有着精美的佛教艺术和丰富的文化遗产，展现了中国古代寺庙建筑的魅力与庄严。 ",-1))])):w("",!0)])]),e("div",me,[Y(H,{landmark:{name:"法源寺"},event:v.value[c.value]},null,8,["event"])])])])])):w("",!0)]),e("div",he,[e("div",fe,[a[8]||(a[8]=e("h3",null,"主要建筑数量变化",-1)),e("div",{ref_key:"chart",ref:b,class:"chart-container"},null,512)]),e("div",be,[a[9]||(a[9]=e("h3",null,"功能类型分布",-1)),e("div",{ref_key:"typeChart",ref:_,class:"chart-container"},null,512)]),e("div",_e,[a[10]||(a[10]=e("h3",null,"寺庙格局演变",-1)),e("div",{ref_key:"patternChart",ref:g,class:"chart-container"},null,512)])])]),e("footer",ge,[e("p",null," © "+n(new Date().getFullYear())+" 法源寺数字文化遗产中心 ",1)])]))}},we=V(xe,[["__scopeId","data-v-ddae3292"]]);export{we as default};
