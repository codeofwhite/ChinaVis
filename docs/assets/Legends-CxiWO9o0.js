import{_ as E,i as w,l as V,q as U,c as v,o as f,b as q,a as o,g as z,t as C,F as O,h as R,s as j,m as I,x as T,j as J,v as K,d as $,w as Q,T as X,n as Y,u as Z}from"./index-DlMObJ4m.js";import{_ as ee,G as P,M as W,S as te,a as ae,A as oe,I as se,T as re,b as ie,E as le,L as H,c as ne,d as N,B as ce,e as de,f as ue,V as ve,l as fe,g as he,h as ge,i as ye,D as pe}from"./wordCloud-ns7HHFf5.js";import"./quadtree-CCDVtcAm.js";const me={class:"tiantan-network-container"},we={key:0,class:"hint"},be={class:"modal-header"},_e={class:"modal-body"},Ce={class:"character-story"},Se={key:0,class:"details-section"},ze={class:"relations-section"},Be={class:"relations-list"},xe={class:"relation-target"},De={__name:"CharacterHub",setup(G){const m={nodes:[{id:"天坛",name:"天坛",val:60,color:"#d4a76a",type:"location",symbolSize:30},{id:"明永乐帝",name:"永乐",val:25,color:"#8B4513",type:"emperor",symbolSize:26},{id:"明嘉靖帝",name:"嘉靖",val:22,color:"#8B4513",type:"emperor",symbolSize:24},{id:"清康熙帝",name:"康熙",val:20,color:"#8B4513",type:"emperor",symbolSize:22},{id:"清乾隆帝",name:"乾隆",val:20,color:"#8B4513",type:"emperor",symbolSize:22},{id:"清雍正帝",name:"雍正",val:18,color:"#8B4513",type:"emperor",symbolSize:20},{id:"蒯祥",name:"蒯祥",val:16,color:"#A0522D",type:"architect",symbolSize:18},{id:"刘伯温",name:"刘伯温",val:15,color:"#CD853F",type:"scholar",symbolSize:17},{id:"于谦",name:"于谦",val:14,color:"#A0522D",type:"official",symbolSize:16},{id:"张居正",name:"张居正",val:16,color:"#A0522D",type:"official",symbolSize:18},{id:"太常寺卿",name:"太常寺卿",val:13,color:"#DEB887",type:"ritual",symbolSize:15},{id:"礼部尚书",name:"礼部尚书",val:13,color:"#DEB887",type:"ritual",symbolSize:15},{id:"钦天监正",name:"钦天监正",val:12,color:"#D2B48C",type:"astronomer",symbolSize:14},{id:"明万历帝",name:"万历",val:17,color:"#8B4513",type:"emperor",symbolSize:19},{id:"清光绪帝",name:"光绪",val:15,color:"#8B4513",type:"emperor",symbolSize:17},{id:"袁世凯",name:"袁世凯",val:14,color:"#8B7355",type:"official",symbolSize:16}],links:[{source:"明永乐帝",target:"天坛",relation:"营建天坛",color:"#FF8C42",width:5,curvature:.1},{source:"明嘉靖帝",target:"天坛",relation:"大规模重建",color:"#FF8C42",width:4,curvature:.1},{source:"清康熙帝",target:"天坛",relation:"恢复祭天礼",color:"#6B9BD2",width:4,curvature:.1},{source:"清乾隆帝",target:"天坛",relation:"完善祭祀制度",color:"#6B9BD2",width:4,curvature:.1},{source:"清雍正帝",target:"天坛",relation:"规范祭天仪式",color:"#6B9BD2",width:3,curvature:.2},{source:"蒯祥",target:"明永乐帝",relation:"首席建筑师",color:"#82C09A",width:3,curvature:.3},{source:"蒯祥",target:"天坛",relation:"设计建造",color:"#82C09A",width:4,curvature:.1},{source:"刘伯温",target:"明永乐帝",relation:"风水顾问",color:"#D4A76A",width:2,curvature:.3},{source:"刘伯温",target:"天坛",relation:"选址规划",color:"#D4A76A",width:3,curvature:.1},{source:"于谦",target:"天坛",relation:"主持祭天仪式",color:"#F4B942",width:3,curvature:.1},{source:"张居正",target:"明万历帝",relation:"首辅",color:"#B8860B",width:3,curvature:.3},{source:"张居正",target:"天坛",relation:"改革祭祀制度",color:"#B8860B",width:3,curvature:.1},{source:"太常寺卿",target:"天坛",relation:"管理祭祀",color:"#E6B800",width:4,curvature:.1},{source:"礼部尚书",target:"天坛",relation:"制定礼仪",color:"#E6B800",width:4,curvature:.1},{source:"钦天监正",target:"天坛",relation:"择定祭天时日",color:"#DAA520",width:3,curvature:.1},{source:"明万历帝",target:"天坛",relation:"频繁祭天",color:"#FF8C42",width:3,curvature:.1},{source:"清光绪帝",target:"天坛",relation:"最后祭天",color:"#9E9E9E",width:3,curvature:.1},{source:"袁世凯",target:"天坛",relation:"称帝祭天",color:"#696969",width:2,curvature:.1},{source:"太常寺卿",target:"礼部尚书",relation:"协作关系",color:"#FF7043",width:2,curvature:.4},{source:"钦天监正",target:"太常寺卿",relation:"配合祭祀",color:"#7986CB",width:2,curvature:.4},{source:"明嘉靖帝",target:"明万历帝",relation:"祖孙",color:"#FFC107",width:2,curvature:.3},{source:"清康熙帝",target:"清雍正帝",relation:"父子",color:"#26A69A",width:2,curvature:.3},{source:"清雍正帝",target:"清乾隆帝",relation:"父子",color:"#26A69A",width:2,curvature:.3}]},l=w(null);let n=null;const u=w(null),g=w(null),y=w(!1),S=w(m),b=w({nodes:[],links:[]}),B=w({nodes:m.nodes,links:m.links}),M={天坛:{story:"天坛是明清两朝皇帝祭祀昊天上帝的圣地，体现了中国古代“天人合一”的哲学思想，是世界上现存最大的古代祭祀建筑群。",details:["始建于明永乐十八年(1420年)","占地约273万平方米","1998年被列为世界文化遗产","祭天仪式一年三次：孟春祈谷、仲夏祈雨、冬至祭天","祈年殿、圜丘坛、皇穹宇等建筑布局严谨，寓意深远"],events:["嘉靖雷击事件","光绪帝祈雨","袁世凯称帝祭天"]},明永乐帝:{story:"明朝第三位皇帝朱棣，迁都北京后营建天坛，确立了明清两代皇帝祭天的传统，体现了君权神授的政治理念。",details:["原名朱棣，燕王起兵夺取皇位","迁都北京，营建紫禁城和天坛","确立祭天制度的基本框架","在位22年(1402-1424)","重视礼制，推动国家统一"]},明嘉靖帝:{story:"明朝第十一位皇帝，对天坛进行了大规模的重建和扩建，将原来的天地坛分为天坛和地坛，完善了祭天建筑布局。",details:["大礼议事件的主角","将天地坛分离，专门祭天","重建祈年殿，改为圆形建筑","在位45年(1521-1566)","曾遭遇天坛祈年殿雷击事件"]},清康熙帝:{story:"清朝第四位皇帝，入关后继承并发展了明朝的祭天传统，在天坛恢复了中断的祭天大典，体现了满族统治者对汉族传统文化的尊重。",details:["8岁登基，在位61年","恢复并规范祭天仪式","多次亲自到天坛祭天","开创康乾盛世","重视天文历法与祭祀结合"]},清乾隆帝:{story:"清朝第六位皇帝，在位期间进一步完善了天坛的祭祀制度，增建了斋宫等建筑，使天坛的功能更加完备。",details:["在位60年，实际掌权63年","增建斋宫，完善祭祀设施","制定详细的祭天礼仪","文治武功达到顶峰","多次亲自撰写祭天文"]},清雍正帝:{story:"清朝第五位皇帝，以勤政著称，对祭天仪式极为重视，规范了祭天的各项礼仪制度。",details:["康熙第四子，44岁即位","在位13年，勤于政务","严格遵循祭天传统","建立密折制度","亲自校订祭祀仪注"]},蒯祥:{story:"明代著名建筑师，被誉为“木圣”，主持设计建造了包括天坛在内的多座重要建筑，其精湛的建筑技艺为后世所敬仰。",details:["江苏吴县人，世代木匠","主持营建紫禁城和天坛","被誉为明代第一建筑师","其家族世代为皇家建筑师","以榫卯结构闻名"]},刘伯温:{story:"明朝开国功臣，精通天文地理，参与了北京城和天坛的选址规划，其深厚的易学功底为天坛的建设提供了理论指导。",details:["浙江青田人，博学多才","辅佐朱元璋建立明朝","精通天文、地理、兵法","参与北京城整体规划","传说中“刘伯温定都北京”"]},于谦:{story:"明朝重要大臣，曾多次主持天坛的祭天仪式，在土木堡之变后力挽狂澜，保卫北京城，体现了忠君爱国的精神。",details:["浙江钱塘人，明代名臣","土木堡之变后拥立景泰帝","多次主持祭天大典","以清廉和爱国著称","有“石灰吟”传世"]},张居正:{story:"明朝著名政治家，万历初年的首辅，推行改革的同时也改革了祭祀制度，使天坛的管理更加规范化。",details:["湖北江陵人，明代改革家","万历初年担任首辅十年","推行万历新政","改革祭祀和财政制度","主张“礼法并重”"]},太常寺卿:{story:"负责管理天坛祭祀事务的重要官职，历代太常寺卿都是祭天仪式的主要组织者和执行者。",details:["九卿之一，专管礼乐祭祀","负责天坛日常管理","制定祭祀流程和规范","培训祭祀人员","如明代太常寺卿李时勉等"]},礼部尚书:{story:"六部之一的礼部最高长官，负责制定包括祭天在内的各种国家礼仪制度，是天坛祭祀活动的总负责人。",details:["六部之一的最高长官","制定国家礼仪制度","监督祭祀活动执行","培养礼仪人才","如明代礼部尚书夏言等"]},钦天监正:{story:"掌管天文历法的官员，负责为祭天仪式择定吉日良辰，其天文知识对祭天活动至关重要。",details:["掌管天文历法的最高官员","负责择定祭天日期","观测天象变化","编制历法","如清代钦天监正吴琯等"]},明万历帝:{story:"明朝第十三位皇帝，在位48年，前期勤于政务，经常到天坛祭天，后期怠政但祭天活动从未间断。",details:["10岁即位，在位48年","前期有张居正辅政","频繁举行祭天仪式","后期二十多年不上朝","祭天活动成为政治象征"]},清光绪帝:{story:"清朝倒数第二位皇帝，在天坛举行了中国历史上最后一次正式的皇帝祭天大典，见证了传统祭天制度的终结。",details:["4岁即位，实际被慈禧控制","戊戌变法的支持者","举行最后一次皇帝祭天","38岁去世，疑被毒死","清末新政的见证者"]},袁世凯:{story:"中华民国临时大总统，1915年称帝后曾到天坛祭天，试图借此获得统治的合法性，但很快在全国反对声中取消帝制。",details:["北洋军阀首领","逼迫清帝退位","1915年称帝，改元洪宪","在天坛举行祭天仪式，83天后取消帝制","中国近代史重要转折人物"]}},k=s=>s?B.value.links.filter(i=>(typeof i.source=="object"?i.source.id:i.source)===s.id||(typeof i.target=="object"?i.target.id:i.target)===s.id):[],x=s=>{if(!s){b.value={...S.value};return}const i=S.value.links.filter(t=>t.source.id===s||t.target.id===s),e=new Set;e.add(s),i.forEach(t=>{e.add(t.source.id),e.add(t.target.id)});const a=S.value.nodes.filter(t=>e.has(t.id));b.value={nodes:a,links:i}},A=s=>{if(u.value=s,g.value=M[s.id]||{story:"暂无详细信息。",details:[]},y.value=!0,x(s.id),n.graphData(b.value),n&&s){const e=Math.hypot(s.x,s.y,s.z),a=s.val?s.val*.1:1,t=(e>0?e:1)+150+a*5;n.cameraPosition({x:s.x*(t/e),y:s.y*(t/e),z:s.z*(t/e)},s,3e3)}},D=()=>{y.value=!1,u.value=null,g.value=null,x(null),n.graphData(b.value),n&&n.cameraPosition({x:0,y:0,z:600},{x:0,y:0,z:0},1e3)};return V(()=>{if(x(null),l.value){n=ee()(l.value).graphData(b.value).nodeVal("val").nodeColor("color").nodeThreeObject(e=>{const a=new P,t=new W(new te(e.val*.2,32,32),new ae({color:e.color,transparent:!0,opacity:.4,blending:oe}));a.add(t);const r=new se(e.val*.15,2),_=new re().load(e.img),c=new ie({map:_,specular:1118481,shininess:30,transparent:!0}),d=new W(r,c);a.add(d);const p=new le(r),L=new H({color:e.color,linewidth:3}),F=new ne(p,L);F.scale.set(1.1,1.1,1.1),a.add(F);const h=new N(e.name);return h.color="#222",h.backgroundColor="rgba(255, 255, 255, 0.9)",h.borderColor=e.color,h.borderWidth=2,h.borderRadius=5,h.padding=8,h.textHeight=10,h.position.y+=e.val*.2+15,a.add(h),a.userData={originalScale:1,hoverScale:1.3},a}).linkColor(e=>e.color).linkWidth(e=>e.width).linkDirectionalParticles(0).linkDirectionalArrowLength(0).linkCurvature(e=>e.curvature).linkOpacity(.9).linkThreeObject(e=>{const a=new P,t=new ce,r=new H({color:e.color,linewidth:e.width,transparent:!0,opacity:.9}),_=new de(t,r);a.add(_);const c=new N(e.relation);return c.color="#333",c.backgroundColor="rgba(255, 255, 255, 0.6)",c.borderColor="rgba(0, 0, 0, 0.2)",c.borderWidth=1,c.borderRadius=3,c.padding=3,c.textHeight=10,c.visible=!1,c.material.depthTest=!1,a.add(c),a.userData={originalWidth:e.width,highlightWidth:e.width*3},e.__sprite=c,a.__updatePosition=(d,p)=>{const L=new Float32Array([d.x,d.y,d.z,p.x,p.y,p.z]);t.setAttribute("position",new ue(L,3)),t.attributes.position.needsUpdate=!0;const F=new ve(d.x+(p.x-d.x)*.5,d.y+(p.y-d.y)*.5,d.z+(p.z-d.z)*.5);Object.assign(c.position,F);const h=Math.atan2(p.y-d.y,p.x-d.x);c.rotation.z=h},a}).linkPositionUpdate((e,{start:a,end:t})=>{e.__updatePosition(a,t)}).backgroundColor("rgba(252, 248, 243, 0.8)").onNodeClick(A).onNodeHover(e=>{l.value.style.cursor=e?"pointer":null,S.value.links.forEach(t=>{t.__sprite&&(t.__sprite.visible=!1)});const a=u.value?b.value.links:S.value.links;e?a.forEach(t=>{(t.source&&t.source.id===e.id||t.target&&t.target.id===e.id)&&(t.__sprite&&(t.__sprite.visible=!0),n.linkColor(r=>r===t?"#ff0000":r.color))}):n.linkColor(t=>t.color)}).onLinkHover(e=>{l.value.style.cursor=e?"pointer":null}).d3Force("link",fe().id(e=>e.id).distance(350)).d3Force("center",he()).d3Force("collision",ge().radius(e=>e.val*.2+50)),n.cameraPosition({x:0,y:0,z:600}),n.scene().add(new ye(16777215,.8));const s=new pe(16777215,.8);s.position.set(100,100,100),n.scene().add(s),new ResizeObserver(()=>{l.value&&n&&(n.width(l.value.offsetWidth),n.height(l.value.offsetHeight))}).observe(l.value)}}),U(()=>{n&&n._destructor()}),(s,i)=>{var e,a,t;return f(),v("div",me,[i[5]||(i[5]=q('<div class="header" data-v-6e5d78ff><h1 data-v-6e5d78ff>天坛人物关系网络</h1><p class="subtitle" data-v-6e5d78ff>明清时期重要人物与天坛的关联图谱</p></div><div class="legend-container" data-v-6e5d78ff><div class="legend" data-v-6e5d78ff><div class="legend-item" data-v-6e5d78ff><span class="legend-icon location" data-v-6e5d78ff></span><span data-v-6e5d78ff>天坛</span></div><div class="legend-item" data-v-6e5d78ff><span class="legend-icon emperor" data-v-6e5d78ff></span><span data-v-6e5d78ff>皇帝</span></div><div class="legend-item" data-v-6e5d78ff><span class="legend-icon official" data-v-6e5d78ff></span><span data-v-6e5d78ff>大臣</span></div><div class="legend-item" data-v-6e5d78ff><span class="legend-icon ritual" data-v-6e5d78ff></span><span data-v-6e5d78ff>祭祀官</span></div></div><div class="relation-legend" data-v-6e5d78ff><div class="legend-item" data-v-6e5d78ff><span class="relation-line ritual" data-v-6e5d78ff></span><span data-v-6e5d78ff>祭祀关系</span></div><div class="legend-item" data-v-6e5d78ff><span class="relation-line construction" data-v-6e5d78ff></span><span data-v-6e5d78ff>营建关系</span></div><div class="legend-item" data-v-6e5d78ff><span class="relation-line governance" data-v-6e5d78ff></span><span data-v-6e5d78ff>政治关系</span></div></div></div>',2)),o("div",{class:"graph-wrapper",ref_key:"graphContainerRef",ref:l},null,512),u.value?z("",!0):(f(),v("div",we,i[1]||(i[1]=[o("p",null,"点击节点查看详细信息 • 拖动旋转视图 • 滚轮缩放",-1)]))),y.value?(f(),v("div",{key:1,class:"modal-overlay",onClick:D},[o("div",{class:"modal-content",onClick:i[0]||(i[0]=I(()=>{},["stop"]))},[o("div",be,[o("h2",null,C((e=u.value)==null?void 0:e.name),1),o("button",{onClick:D,class:"close-button"},i[2]||(i[2]=[o("svg",{viewBox:"0 0 24 24",width:"24",height:"24"},[o("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z",fill:"currentColor"})],-1)]))]),o("div",_e,[o("div",Ce,[o("p",null,C((a=g.value)==null?void 0:a.story),1)]),(t=g.value)!=null&&t.details&&g.value.details.length>0?(f(),v("div",Se,[i[3]||(i[3]=o("h3",null,"历史细节",-1)),o("ul",null,[(f(!0),v(O,null,R(g.value.details,(r,_)=>(f(),v("li",{key:_},C(r),1))),128))])])):z("",!0),o("div",ze,[i[4]||(i[4]=o("h3",null,"关联关系",-1)),o("div",Be,[(f(!0),v(O,null,R(k(u.value),r=>{var _,c;return f(),v("div",{key:`${typeof r.source=="object"?r.source.id:r.source}-${typeof r.target=="object"?r.target.id:r.target}`,class:"relation-item",style:j({borderLeftColor:r.color})},[o("div",{class:"relation-type",style:j({color:r.color})},C(r.relation),5),o("div",xe,C(((c=(typeof r.source=="object"?r.source.id:r.source)===((_=u.value)==null?void 0:_.id)?B.value.nodes.find(d=>d.id===(typeof r.target=="object"?r.target.id:r.target)):B.value.nodes.find(d=>d.id===(typeof r.source=="object"?r.source.id:r.source)))==null?void 0:c.name)||"未知"),1)],4)}),128))])])])])])):z("",!0)])}}},Ae=E(De,[["__scopeId","data-v-6e5d78ff"]]),Fe=[{id:"heavenlyTemple",saying:"天坛之上，天人合一",theme:"哲学思想",weight:95,story:{title:"天坛的宗教象征",content:"天坛是明清时期皇帝祭天的场所，象征着天人合一的理念。其建筑设计不仅体现了古代中国的宇宙观，更是对天与地、人与神之间关系的深刻理解。每年，皇帝在此举行隆重的祭天仪式，表达对自然的敬畏与对天命的顺应。"}},{id:"sacredAltar",saying:"祭天之坛，古韵悠长",theme:"历史感悟",weight:90,story:{title:"祭天仪式的历史回顾",content:"天坛的祭天仪式有着悠久的历史，体现了中国古代对天命的重视。祭天不仅是对上天的祈求，更是对国家安定、风调雨顺的期盼。每一次的祭天，都是对历史的回顾与文化的传承。"}},{id:"sacredArchitecture",saying:"圆顶之下，万象归一",theme:"建筑美学",weight:85,story:{title:"天坛的建筑奇迹",content:"天坛的圆顶设计象征着天的完美与统一，体现了古代建筑师的智慧。其独特的建筑结构和精美的装饰，使其成为世界文化遗产，吸引了无数游客与学者的关注。"}},{id:"culturalHeritage",saying:"文化传承，代代相承",theme:"文化传承",weight:88,story:{title:"天坛与中华文化",content:"天坛不仅是祭天的场所，更是中华文化的重要象征。它承载着几千年的历史与文化，见证了无数的朝代更迭与历史变迁。每一块砖瓦都蕴含着深厚的文化底蕴，提醒着后人珍惜与传承。"}},{id:"cosmicSymbol",saying:"天圆地方，宇宙至理",theme:"哲学思想",weight:82,story:{title:"天坛的宇宙观",content:'天坛的整体布局完美体现了"天圆地方"的古代宇宙观。祈年殿的圆形三重檐象征"天"，方形的围墙代表"地"，这种设计理念展示了古人对宇宙秩序的深刻理解。'}},{id:"dynastyChange",saying:"坛前烟雨，朝代更迭",theme:"历史感悟",weight:80,story:{title:"天坛见证的历史变迁",content:"从明清至今，天坛见证了无数历史变迁。从皇帝祭天的庄严仪式到如今的旅游景点，天坛的每一块砖石都承载着历史的记忆，诉说着时代的变迁。"}},{id:"soundMiracle",saying:"回音壁前，声传千年",theme:"科学智慧",weight:78,story:{title:"天坛的声学奇迹",content:"回音壁是天坛建筑的声学奇迹之一，两人分别站在东西配殿后，贴近墙壁低声说话，声波会沿着墙壁连续反射前进，彼此都能听得一清二楚。这展示了古代工匠对声学原理的精妙运用。"}},{id:"woodenStructure",saying:"榫榫卯之间，匠心独运",theme:"建筑美学",weight:83,story:{title:"天坛的木构艺术",content:"天坛建筑群全部采用木结构，不使用一根钉子。祈年殿的28根立柱象征二十八星宿，这种设计不仅具有结构上的稳定性，更体现了古代工匠对天文知识的应用。"}},{id:"blueGlaze",saying:"琉璃碧瓦，映照苍穹",theme:"艺术价值",weight:76,story:{title:"天坛的色彩象征",content:"天坛建筑的蓝色琉璃瓦象征天空，汉白玉栏杆代表大地。这种色彩运用深含阴阳五行哲学，四方色彩分别对应四季五行，体现了古人对自然的敬畏与理解。"}},{id:"pillarMeaning",saying:"三十六柱，天罡之数",theme:"建筑美学",weight:77,story:{title:"天坛的数字哲学",content:"祈年殿内圈12根金柱代表12个月份，外圈12根檐柱象征12时辰，整体36根立柱对应36天罡。这种数字象征系统展示了古代建筑中的宇宙秩序观念。"}},{id:"worldHeritage",saying:"世界遗产，人类瑰宝",theme:"文化传承",weight:92,story:{title:"天坛的世界意义",content:"1998年，天坛被联合国教科文组织列入《世界遗产名录》。作为中国古代建筑的杰出代表，天坛不仅属于中国，更是全人类共同的文化遗产，体现了人类对宇宙的共同探索。"}},{id:"architectWisdom",saying:"巧匠神工，天人共鉴",theme:"建筑美学",weight:81,story:{title:"天坛的建造智慧",content:"天坛的建造凝聚了无数工匠的智慧。从精确的轴线布局到复杂的木结构，从精美的彩绘到精妙的声学设计，每一项都展示了古代中国建筑技术的巅峰成就。"}},{id:"seasonSymbol",saying:"四季轮回，坛中尽显",theme:"哲学思想",weight:79,story:{title:"天坛与四季象征",content:"天坛建筑群通过四方布局象征四季轮回。东侧建筑代表春季，南侧象征夏季，西侧对应秋季，北侧则代表冬季。这种设计体现了古人对自然规律的尊重与理解。"}},{id:"sacredPath",saying:"神道悠悠，直通苍穹",theme:"建筑美学",weight:84,story:{title:"天坛的轴线设计",content:'天坛的主轴线被称为"神道"，长达360米，笔直通往祈年殿。这条轴线不仅具有空间上的引导作用，更象征着连接天地的神圣通道，体现了古人对宇宙秩序的认知。'}},{id:"prayerForRain",saying:"祈谷祭天，五谷丰登",theme:"文化传承",weight:86,story:{title:"天坛的祈谷仪式",content:"每年孟春时节，皇帝在天坛举行祈谷大典，祈求风调雨顺、五谷丰登。这一仪式体现了农业社会对自然的依赖与敬畏，也是古代国家治理的重要活动。"}},{id:"philosophyStone",saying:"石中藏道，道法自然",theme:"哲学思想",weight:88,story:{title:"天坛的石材象征",content:'天坛的石材选择与布局深含哲学意义。圜圜丘坛的石板数均为9的倍数，象征"天数"；丹陛桥的石板数则象征一年的天数。这种设计体现了古人对自然的深刻理解。'}}],Me={class:"tiantan-sayings-wrapper"},ke={class:"sayings-wordcloud-container"},Le={key:0,class:"loading-indicator"},Te={class:"modal-content"},$e={key:0},Ee={class:"modal-title"},Ge={class:"modal-story-title"},Oe={class:"modal-story-content"},Re={__name:"Sayings",setup(G){const m=T(null);let l=null,n=null;const u=w(!0),g=w(!1),y=T(null),S=T(Fe),b=J(()=>S.value.map(e=>({name:e.saying,value:e.weight,theme:e.theme,originalData:e}))),B={哲学思想:"#3f7f9f",历史感悟:"#c0a16c",建筑美学:"#8b5a2b",文化传承:"#5d4037",科学智慧:"#2e7d32",艺术价值:"#6a1b9a"};function M(e){return B[e.data.theme]||"#5c4d3c"}function k(){if(m.value)try{l=Y(m.value),x(),window.addEventListener("resize",D),l.on("click",A),setTimeout(()=>{u.value=!1},800)}catch(e){console.error("图表初始化失败:",e),u.value=!1}}function x(){if(!l)return;const e={tooltip:{trigger:"item",formatter:a=>`
        <div style="font-size:14px;font-weight:bold;color:${a.color}">
          ${a.name}
        </div>
        <div>主题：${a.data.theme}</div>
      `},series:[{type:"wordCloud",shape:"circle",left:"center",top:"center",width:"95%",height:"95%",sizeRange:[16,70],rotationRange:[-45,45],gridSize:10,drawOutOfBound:!1,layoutAnimation:{duration:1e3,easing:"cubicOut"},textStyle:{fontFamily:"Noto Serif SC, Songti SC, STSong, serif",fontWeight:"bold",color:M},emphasis:{focus:"self",textStyle:{shadowBlur:15,shadowColor:"#333",fontWeight:"bolder"}},data:b.value}]};l.setOption(e)}function A(e){e.componentType==="series"&&e.seriesType==="wordCloud"&&s(e.data.originalData)}function D(){clearTimeout(n),n=setTimeout(()=>{l&&l.resize()},200)}function s(e){y.value=e,g.value=!0}function i(){g.value=!1,setTimeout(()=>{y.value=null},300)}return V(k),K(()=>{l&&(l.off("click",A),l.dispose(),window.removeEventListener("resize",D))}),(e,a)=>(f(),v("div",Me,[a[1]||(a[1]=o("h2",null,"天坛金句录",-1)),a[2]||(a[2]=o("p",{class:"subtitle"},"点击下方名句，探索其背后的故事与意境",-1)),o("div",ke,[o("div",{ref_key:"wordCloudChart",ref:m,class:"echarts-chart"},null,512),u.value?(f(),v("div",Le,a[0]||(a[0]=[o("div",{class:"spinner"},null,-1),o("p",null,"金句加载中...",-1)]))):z("",!0)]),$(X,{name:"fade"},{default:Q(()=>[g.value?(f(),v("div",{key:0,class:"modal-overlay",onClick:I(i,["self"])},[o("div",Te,[o("button",{class:"close-button",onClick:i},"×"),y.value?(f(),v("div",$e,[o("h3",Ee,'"'+C(y.value.saying)+'"',1),o("p",Ge,C(y.value.story.title),1),o("p",Oe,C(y.value.story.content),1)])):z("",!0)])])):z("",!0)]),_:1})]))}},je=E(Re,[["__scopeId","data-v-bd7f61b0"]]),Pe={class:"legends-container"},We={__name:"Legends",setup(G){const m=Z(),l=()=>m.push("/landmarks/temple-of-heaven");return(n,u)=>(f(),v("div",Pe,[o("button",{onClick:l,class:"back-button"},"← 返回天坛门户"),u[0]||(u[0]=o("div",{class:"legends-header"},[o("h1",null,"天坛六百年皇家秘事"),o("p",null,"从嘉靖帝雷击事件到光绪帝祈雨传奇，感受圣坛背后的历史风云")],-1)),$(Ae),$(je)]))}},Ie=E(We,[["__scopeId","data-v-36489494"]]);export{Ie as default};
