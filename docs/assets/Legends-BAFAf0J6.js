import{_ as $,i as u,l as G,q as H,c as v,o as y,b as U,a as r,g as x,t as z,F as I,h as T,s as j,j as A,k as V,v as q,m as J,n as M,d as P,u as K}from"./index-B57BGp4X.js";import{_ as Q,G as E,M as W,S as X,a as Y,A as Z,I as ee,T as te,b as ae,E as oe,L as R,c as ie,d as N,B as re,e as se,f as ne,V as le,l as ce,g as de,h as ue,i as pe,D as ge}from"./wordCloud-DasmvTQY.js";import"./quadtree-CCDVtcAm.js";const me={class:"palace-network-container"},ve={key:0,class:"info-panel"},ye={class:"panel-header"},he={class:"panel-content"},be={class:"character-story"},fe={key:0,class:"details-section"},we={class:"relations-section"},_e={class:"relations-list"},ze={class:"relation-target"},Se={key:1,class:"hint"},Be={__name:"GugongCharacterHub",setup(O){const D={nodes:[{id:"明十三陵",name:"明十三陵",val:30,color:"#D4AF37",type:"mausoleum",symbolSize:30,img:"/icons/ming_tombs.png"},{id:"明成祖朱棣",name:"朱棣",val:25,color:"#8B0000",type:"emperor",symbolSize:24,img:"/icons/yongle.png"},{id:"明世宗朱厚熜",name:"朱厚熜",val:18,color:"#8B0000",type:"emperor",symbolSize:21,img:"/icons/jiajing.png"},{id:"明仁宗朱高炽",name:"朱高炽",val:20,color:"#8B0000",type:"emperor",symbolSize:22,img:"/icons/hongxi.png"},{id:"明宣宗朱瞻基",name:"朱瞻基",val:20,color:"#8B0000",type:"emperor",symbolSize:22,img:"/icons/xuande.png"},{id:"明英宗朱祁镇",name:"朱祁镇",val:18,color:"#8B0000",type:"emperor",symbolSize:21,img:"/icons/zhengtong.png"},{id:"明孝宗朱祐樘",name:"朱祐樘",val:18,color:"#8B0000",type:"emperor",symbolSize:21,img:"/icons/hongzhi.png"},{id:"明神宗朱翊钧",name:"朱翊钧",val:18,color:"#8B0000",type:"emperor",symbolSize:21,img:"/icons/wanli.png"},{id:"明思宗朱由检",name:"朱由检",val:18,color:"#8B0000",type:"emperor",symbolSize:21,img:"/icons/chongzhen.png"},{id:"徐皇后",name:"徐皇后",val:16,color:"#6A0DAD",type:"empress",symbolSize:20,img:"/icons/empress_xu.png"},{id:"张皇后",name:"张皇后",val:16,color:"#6A0DAD",type:"empress",symbolSize:20,img:"/icons/empress_zhang.png"},{id:"万贵妃",name:"万贵妃",val:15,color:"#D8BFD8",type:"concubine",symbolSize:19,img:"/icons/concubine_wan.png"},{id:"郑贵妃",name:"郑贵妃",val:15,color:"#D8BFD8",type:"concubine",symbolSize:19,img:"/icons/concubine_zheng.png"},{id:"夏言",name:"夏言",val:14,color:"#2F4F4F",type:"official",symbolSize:18,img:"/icons/xia_yan.png"},{id:"严嵩",name:"严嵩",val:14,color:"#2F4F4F",type:"official",symbolSize:18,img:"/icons/yan_song.png"},{id:"张居正",name:"张居正",val:16,color:"#2F4F4F",type:"official",symbolSize:20,img:"/icons/zhang_juzheng.png"},{id:"戚继光",name:"戚继光",val:15,color:"#4682B4",type:"general",symbolSize:19,img:"/icons/qi_jiguang.png"}],links:[{source:"明成祖朱棣",target:"明十三陵",relation:"选址营建",color:"#FFA500",width:4,curvature:.1},{source:"明仁宗朱高炽",target:"明十三陵",relation:"首位入葬",color:"#B22222",width:3,curvature:.2},{source:"明宣宗朱瞻基",target:"明十三陵",relation:"入葬",color:"#B22222",width:3,curvature:.2},{source:"明英宗朱祁镇",target:"明十三陵",relation:"复辟后入葬",color:"#B22222",width:3,curvature:.2},{source:"明孝宗朱祐樘",target:"明十三陵",relation:"中兴之君入葬",color:"#B22222",width:3,curvature:.2},{source:"明神宗朱翊钧",target:"明十三陵",relation:"长陵最大规模",color:"#B22222",width:3,curvature:.2},{source:"明思宗朱由检",target:"明十三陵",relation:"末代皇帝入葬",color:"#B22222",width:3,curvature:.2},{source:"明成祖朱棣",target:"明仁宗朱高炽",relation:"父子",color:"#DAA520",width:2,curvature:.3},{source:"明仁宗朱高炽",target:"明宣宗朱瞻基",relation:"父子",color:"#DAA520",width:2,curvature:.3},{source:"明成祖朱棣",target:"徐皇后",relation:"夫妻",color:"#F4A460",width:2,curvature:.3},{source:"明宣宗朱瞻基",target:"张皇后",relation:"夫妻",color:"#F4A460",width:2,curvature:.3},{source:"明英宗朱祁镇",target:"万贵妃",relation:"宠妃",color:"#DB7093",width:2,curvature:.3},{source:"明神宗朱翊钧",target:"郑贵妃",relation:"宠妃",color:"#DB7093",width:2,curvature:.3},{source:"明神宗朱翊钧",target:"张居正",relation:"辅政大臣",color:"#708090",width:2,curvature:.2},{source:"张居正",target:"明十三陵",relation:"影响陵制",color:"#696969",width:3,curvature:.1},{source:"明世宗朱厚熜",target:"严嵩",relation:"宠臣",color:"#708090",width:2,curvature:.2},{source:"严嵩",target:"明十三陵",relation:"参与营建",color:"#696969",width:3,curvature:.1},{source:"戚继光",target:"明十三陵",relation:"保卫陵区",color:"#4682B4",width:3,curvature:.1}]},p=u(null);let s=null;const i=u(null),l=u(null),w=u(D),h=u({nodes:[],links:[]}),d=u({nodes:[{id:"明十三陵",name:"明十三陵",val:30,color:"#D4AF37",type:"mausoleum",symbolSize:30,img:"/icons/ming_tombs.png"},{id:"明世宗朱厚熜",name:"朱厚熜",val:18,color:"#8B0000",type:"emperor",symbolSize:21,img:"/icons/jiajing.png"},{id:"明成祖朱棣",name:"朱棣",val:25,color:"#8B0000",type:"emperor",symbolSize:24,img:"/icons/yongle.png"},{id:"明仁宗朱高炽",name:"朱高炽",val:20,color:"#8B0000",type:"emperor",symbolSize:22,img:"/icons/hongxi.png"},{id:"明宣宗朱瞻基",name:"朱瞻基",val:20,color:"#8B0000",type:"emperor",symbolSize:22,img:"/icons/xuande.png"},{id:"明英宗朱祁镇",name:"朱祁镇",val:18,color:"#8B0000",type:"emperor",symbolSize:21,img:"/icons/zhengtong.png"},{id:"明孝宗朱祐樘",name:"朱祐樘",val:18,color:"#8B0000",type:"emperor",symbolSize:21,img:"/icons/hongzhi.png"},{id:"明神宗朱翊钧",name:"朱翊钧",val:18,color:"#8B0000",type:"emperor",symbolSize:21,img:"/icons/wanli.png"},{id:"明思宗朱由检",name:"朱由检",val:18,color:"#8B0000",type:"emperor",symbolSize:21,img:"/icons/chongzhen.png"},{id:"徐皇后",name:"徐皇后",val:16,color:"#6A0DAD",type:"empress",symbolSize:20,img:"/icons/empress_xu.png"},{id:"张皇后",name:"张皇后",val:16,color:"#6A0DAD",type:"empress",symbolSize:20,img:"/icons/empress_zhang.png"},{id:"万贵妃",name:"万贵妃",val:15,color:"#D8BFD8",type:"concubine",symbolSize:19,img:"/icons/concubine_wan.png"},{id:"郑贵妃",name:"郑贵妃",val:15,color:"#D8BFD8",type:"concubine",symbolSize:19,img:"/icons/concubine_zheng.png"},{id:"夏言",name:"夏言",val:14,color:"#2F4F4F",type:"official",symbolSize:18,img:"/icons/xia_yan.png"},{id:"严嵩",name:"严嵩",val:14,color:"#2F4F4F",type:"official",symbolSize:18,img:"/icons/yan_song.png"},{id:"张居正",name:"张居正",val:16,color:"#2F4F4F",type:"official",symbolSize:20,img:"/icons/zhang_juzheng.png"},{id:"戚继光",name:"戚继光",val:15,color:"#4682B4",type:"general",symbolSize:19,img:"/icons/qi_jiguang.png"}],links:[{source:"明成祖朱棣",target:"明十三陵",relation:"选址营建",color:"#FFA500",width:4,curvature:.1},{source:"明仁宗朱高炽",target:"明十三陵",relation:"首位入葬",color:"#B22222",width:3,curvature:.2},{source:"明宣宗朱瞻基",target:"明十三陵",relation:"入葬",color:"#B22222",width:3,curvature:.2},{source:"明英宗朱祁镇",target:"明十三陵",relation:"复辟后入葬",color:"#B22222",width:3,curvature:.2},{source:"明孝宗朱祐樘",target:"明十三陵",relation:"中兴之君入葬",color:"#B22222",width:3,curvature:.2},{source:"明神宗朱翊钧",target:"明十三陵",relation:"长陵最大规模",color:"#B22222",width:3,curvature:.2},{source:"明思宗朱由检",target:"明十三陵",relation:"末代皇帝入葬",color:"#B22222",width:3,curvature:.2},{source:"明成祖朱棣",target:"明仁宗朱高炽",relation:"父子",color:"#DAA520",width:2,curvature:.3},{source:"明仁宗朱高炽",target:"明宣宗朱瞻基",relation:"父子",color:"#DAA520",width:2,curvature:.3},{source:"明成祖朱棣",target:"徐皇后",relation:"夫妻",color:"#F4A460",width:2,curvature:.3},{source:"明宣宗朱瞻基",target:"张皇后",relation:"夫妻",color:"#F4A460",width:2,curvature:.3},{source:"明英宗朱祁镇",target:"万贵妃",relation:"宠妃",color:"#DB7093",width:2,curvature:.3},{source:"明神宗朱翊钧",target:"郑贵妃",relation:"宠妃",color:"#DB7093",width:2,curvature:.3},{source:"明神宗朱翊钧",target:"张居正",relation:"辅政大臣",color:"#708090",width:2,curvature:.2},{source:"张居正",target:"明十三陵",relation:"影响陵制",color:"#696969",width:3,curvature:.1},{source:"明世宗朱厚熜",target:"严嵩",relation:"宠臣",color:"#708090",width:2,curvature:.2},{source:"严嵩",target:"明十三陵",relation:"参与营建",color:"#696969",width:3,curvature:.1},{source:"戚继光",target:"明十三陵",relation:"保卫陵区",color:"#4682B4",width:3,curvature:.1}]}),S={明十三陵:{story:"明十三陵是明朝十三位皇帝的陵墓群，位于北京昌平天寿山麓，是中国规模最大、保存最完好的帝王陵寝之一。",details:["始建于1409年(永乐七年)","总面积约120余平方公里","2003年被列为世界文化遗产","包括长陵、献陵、景陵、裕陵、茂陵、泰陵、康陵、永陵、昭陵、定陵、庆陵、德陵和思陵"]},明成祖朱棣:{story:"明朝第三位皇帝，迁都北京并选定天寿山作为皇家陵寝区，亲自规划长陵建设。",details:["年号永乐(1403-1424)","发动靖难之役夺取皇位","派遣郑和下西洋","编纂《永乐大典》"]},明仁宗朱高炽:{story:"明朝第四位皇帝，朱棣长子，在位仅十个月便去世，是首位入葬明十三陵的皇帝。",details:["年号洪熙(1424-1425)","在位时间短但政绩显著","葬于献陵","为政宽厚，纠正永乐时期严苛政策"]},明宣宗朱瞻基:{story:'明朝第五位皇帝，与其父共同开创"仁宣之治"，葬于景陵。',details:["年号宣德(1426-1435)","擅长书画，宣德炉闻名于世","延续仁宗政策，国力强盛","葬于景陵"]},明世宗朱厚熜:{story:"明朝第十一位皇帝，在位期间推行改革，但晚年沉迷道教。",details:["年号嘉靖 (1522-1566)","大礼议事件","重用严嵩，后期政治腐败","痴迷修道，二十余年不理朝政","倭寇侵扰东南沿海"]},明英宗朱祁镇:{story:"明朝第六位和第八位皇帝，经历土木堡之变和夺门之变，最终葬于裕陵。",details:["年号正统(1436-1449)和天顺(1457-1464)","土木堡之变被瓦剌俘虏","复辟后废除殉葬制度","葬于裕陵"]},明孝宗朱祐樘:{story:'明朝第九位皇帝，开创"弘治中兴"，是明朝中期最有作为的君主之一，葬于泰陵。',details:["年号弘治(1488-1505)","勤政爱民，政治清明","一夫一妻制的践行者","葬于泰陵"]},明神宗朱翊钧:{story:"明朝第十三位皇帝，在位48年，修建定陵耗时6年，耗费白银800万两。",details:["年号万历(1573-1620)","前期由张居正辅政","后期长期不上朝","定陵是十三陵中唯一被考古发掘的陵墓"]},明思宗朱由检:{story:"明朝最后一位皇帝，李自成攻入北京后自缢身亡，后葬于思陵。",details:["年号崇祯(1628-1644)","勤政但无力回天","煤山自缢身亡","清廷将其葬入思陵"]},徐皇后:{story:"明成祖朱棣的皇后，仁孝文皇后，是明朝第一位入葬十三陵的皇后。",details:["仁孝文皇后","朱棣最敬重的妻子","长陵合葬","对永乐朝政有重要影响"]},张皇后:{story:"明宣宗朱瞻基的皇后，历经五朝，对明朝中期政局有重要影响。",details:["历经永乐、洪熙、宣德、正统、景泰五朝","宣德朝皇后","景陵合葬","土木堡之变后稳定朝局"]},万贵妃:{story:"明英宗朱祁镇的宠妃，比英宗年长17岁，对英宗有重要影响。",details:["英宗最宠爱的妃子","裕陵祔葬","比英宗年长17岁","对英宗性格形成有重要影响"]},郑贵妃:{story:'明神宗朱翊钧的宠妃，引发"国本之争"，几乎动摇明朝国本。',details:["神宗最宠爱的妃子","欲立其子福王为太子","引发长达15年的国本之争","定陵祔葬"]},夏言:{story:"明朝中期重臣，曾任内阁首辅，参与嘉靖朝陵寝建设。",details:["嘉靖朝重臣","曾任内阁首辅","参与永陵建设","后被严嵩陷害处死"]},严嵩:{story:"明朝权臣，把持朝政20余年，贪污受贿，对明十三陵建设有重要影响。",details:["嘉靖朝权臣","把持朝政20余年","贪污巨额财富","参与永陵建设"]},张居正:{story:"明朝著名改革家，万历初年内阁首辅，对万历朝政和定陵建设有重要影响。",details:["万历初年内阁首辅","推行一条鞭法等改革","对定陵建设有影响","死后被抄家"]},戚继光:{story:"明朝抗倭名将，曾负责十三陵的保卫工作，为军事防御体系的建立做出贡献。",details:["抗倭名将","创建戚家军","负责十三陵保卫","完善陵区防御体系"]}},g=t=>{if(!t){h.value={...w.value};return}const a=w.value.links.filter(o=>o.source.id===t||o.target.id===t),e=new Set;e.add(t),a.forEach(o=>{e.add(o.source.id),e.add(o.target.id)});const n=w.value.nodes.filter(o=>e.has(o.id));h.value={nodes:n,links:a}},C=t=>{if(i.value&&i.value.id===t.id?(i.value=null,g(null),l.value=null):(i.value=t,g(t.id),l.value=S[t.id]||{story:"暂无详细信息。",details:[]}),s.graphData(h.value),s&&t){const e=Math.hypot(t.x,t.y,t.z),n=t.val?t.val*.1:1,o=(e>0?e:1)+150+n*5;s.cameraPosition({x:t.x*(o/e),y:t.y*(o/e),z:t.z*(o/e)},t,3e3)}},B=()=>{i.value=null,l.value=null,g(null),s.graphData(h.value),s&&s.cameraPosition({x:0,y:0,z:600},{x:0,y:0,z:0},1e3)};return G(()=>{if(g(null),p.value){s=Q()(p.value).graphData(h.value).nodeVal("val").nodeColor("color").nodeThreeObject(e=>{const n=new E,o=new W(new X(e.val*.2,32,32),new Y({color:e.color,transparent:!0,opacity:.4,blending:Z}));n.add(o);const b=new ee(e.val*.15,2),k=new te().load(e.img),c=new ae({map:k,specular:1118481,shininess:30,transparent:!0}),m=new W(b,c);n.add(m);const _=new oe(b),L=new R({color:e.color,linewidth:3}),F=new ie(_,L);F.scale.set(1.1,1.1,1.1),n.add(F);const f=new N(e.name);return f.color="#222",f.backgroundColor="rgba(255, 255, 255, 0.9)",f.borderColor=e.color,f.borderWidth=2,f.borderRadius=5,f.padding=8,f.textHeight=10,f.position.y+=e.val*.2+15,n.add(f),n.userData={originalScale:1,hoverScale:1.3},n}).linkColor(e=>e.color).linkWidth(e=>e.width).linkDirectionalParticles(0).linkDirectionalArrowLength(0).linkCurvature(e=>e.curvature).linkOpacity(.9).linkThreeObject(e=>{const n=new E,o=new re,b=new R({color:e.color,linewidth:e.width,transparent:!0,opacity:.9}),k=new se(o,b);n.add(k);const c=new N(e.relation);return c.color="#333",c.backgroundColor="rgba(255, 255, 255, 0.6)",c.borderColor="rgba(0, 0, 0, 0.2)",c.borderWidth=1,c.borderRadius=3,c.padding=3,c.textHeight=10,c.visible=!1,c.material.depthTest=!1,n.add(c),n.userData={originalWidth:e.width,highlightWidth:e.width*3},e.__sprite=c,n.__updatePosition=(m,_)=>{const L=new Float32Array([m.x,m.y,m.z,_.x,_.y,_.z]);o.setAttribute("position",new ne(L,3)),o.attributes.position.needsUpdate=!0;const F=new le(m.x+(_.x-m.x)*.5,m.y+(_.y-m.y)*.5,m.z+(_.z-m.z)*.5);Object.assign(c.position,F);const f=Math.atan2(_.y-m.y,_.x-m.x);c.rotation.z=f},n}).linkPositionUpdate((e,{start:n,end:o})=>{e.__updatePosition(n,o)}).backgroundColor("rgba(250, 245, 235, 0.8)").onNodeClick(C).onNodeHover(e=>{p.value.style.cursor=e?"pointer":null,w.value.links.forEach(o=>{o.__sprite&&(o.__sprite.visible=!1)});const n=i.value?h.value.links:w.value.links;e?n.forEach(o=>{(o.source&&o.source.id===e.id||o.target&&o.target.id===e.id)&&(o.__sprite&&(o.__sprite.visible=!0),s.linkColor(b=>b===o?"#ff0000":b.color))}):s.linkColor(o=>o.color)}).onLinkHover(e=>{p.value.style.cursor=e?"pointer":null}).d3Force("link",ce().id(e=>e.id).distance(350)).d3Force("center",de()).d3Force("collision",ue().radius(e=>e.val*.2+50)),s.cameraPosition({x:0,y:0,z:600}),s.scene().add(new pe(16777215,.8));const t=new ge(16777215,.8);t.position.set(100,100,100),s.scene().add(t),new ResizeObserver(()=>{p.value&&s&&(s.width(p.value.offsetWidth),s.height(p.value.offsetHeight))}).observe(p.value)}}),H(()=>{s&&s._destructor()}),(t,a)=>(y(),v("div",me,[a[4]||(a[4]=U('<div class="header" data-v-80ab5216><h1 data-v-80ab5216>明十三陵人物关系网络</h1><p class="subtitle" data-v-80ab5216>明朝皇帝、后妃与重要大臣的关联图谱</p></div><div class="legend-container" data-v-80ab5216><div class="legend" data-v-80ab5216><div class="legend-item" data-v-80ab5216><span class="legend-icon mausoleum" data-v-80ab5216></span><span data-v-80ab5216>十三陵</span></div><div class="legend-item" data-v-80ab5216><span class="legend-icon emperor" data-v-80ab5216></span><span data-v-80ab5216>皇帝</span></div><div class="legend-item" data-v-80ab5216><span class="legend-icon empress" data-v-80ab5216></span><span data-v-80ab5216>后妃</span></div><div class="legend-item" data-v-80ab5216><span class="legend-icon official" data-v-80ab5216></span><span data-v-80ab5216>官员</span></div></div><div class="relation-legend" data-v-80ab5216><div class="legend-item" data-v-80ab5216><span class="relation-line construction" data-v-80ab5216></span><span data-v-80ab5216>营建关系</span></div><div class="legend-item" data-v-80ab5216><span class="relation-line governance" data-v-80ab5216></span><span data-v-80ab5216>统治关系</span></div><div class="legend-item" data-v-80ab5216><span class="relation-line family" data-v-80ab5216></span><span data-v-80ab5216>家族关系</span></div></div></div>',2)),r("div",{class:"graph-wrapper",ref_key:"graphContainerRef",ref:p},null,512),i.value?(y(),v("div",ve,[r("div",ye,[r("h2",null,z(i.value.name),1),r("button",{onClick:B,class:"close-button"},a[0]||(a[0]=[r("svg",{viewBox:"0 0 24 24",width:"20",height:"20"},[r("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})],-1)]))]),r("div",he,[r("div",be,[r("p",null,z(l.value.story),1)]),l.value.details&&l.value.details.length>0?(y(),v("div",fe,[a[1]||(a[1]=r("h3",null,"历史细节",-1)),r("ul",null,[(y(!0),v(I,null,T(l.value.details,(e,n)=>(y(),v("li",{key:n},z(e),1))),128))])])):x("",!0),r("div",we,[a[2]||(a[2]=r("h3",null,"关联关系",-1)),r("div",_e,[(y(!0),v(I,null,T(d.value.links.filter(e=>e.source===i.value.id||e.target===i.value.id),e=>{var n,o;return y(),v("div",{key:`${e.source}-${e.target}`,class:"relation-item",style:j({borderLeftColor:e.color})},[r("div",{class:"relation-type",style:j({color:e.color})},z(e.relation),5),r("div",ze,z(e.source===i.value.id?(n=d.value.nodes.find(b=>b.id===e.target))==null?void 0:n.name:(o=d.value.nodes.find(b=>b.id===e.source))==null?void 0:o.name),1)],4)}),128))])])])])):x("",!0),i.value?x("",!0):(y(),v("div",Se,a[3]||(a[3]=[r("p",null,"点击节点查看详细信息 • 拖动旋转视图 • 滚轮缩放",-1)])))]))}},xe=$(Be,[["__scopeId","data-v-80ab5216"]]),De={class:"sayings-wrapper"},Ce={class:"sayings-wordcloud-container"},Fe={key:0,class:"loading-text"},Ae={class:"modal-content"},ke={key:0},Le={class:"modal-title"},Me={class:"modal-story-title"},$e={class:"modal-story-content"},Ge={__name:"PalaceSayings",setup(O){const D=u([{id:"dragonMountain",saying:"龙脉天寿，帝王长眠",theme:"风水格局",weight:90,story:{title:"天寿山的风水奥秘",content:'明十三陵选址于北京昌平天寿山南麓，这里山环水抱，藏风聚气，是古代风水学中的"吉壤"。天寿山形似盘龙，被视为"龙脉"所在，明朝皇帝希望借此风水宝地保佑江山永固，帝业长青。'}},{id:"stoneBeast",saying:"石兽肃立，守护千年",theme:"陵寝规制",weight:80,story:{title:"神道两侧的石像生",content:"明十三陵神道两侧排列着狮子、獬豸、骆驼、象、麒麟、马等石兽共24尊，象征皇帝生前的仪仗和威严。这些石像生雕刻精美，历经数百年风雨依然肃立，默默守护着长眠于此的明朝帝王。"}},{id:"undergroundPalace",saying:"地宫深邃，珍宝无数",theme:"考古发现",weight:85,story:{title:"定陵地宫的惊人发现",content:"1956年对定陵的考古发掘揭开了明代帝王陵寝的神秘面纱。地宫深达27米，出土了金冠、凤冠、龙袍等3000余件珍贵文物，展现了明代高超的工艺水平和皇家生活的奢华。"}},{id:"eternalRest",saying:"松柏长青，帝王安息",theme:"陵园景观",weight:75,story:{title:"十三陵的古树奇观",content:'明十三陵种植了大量松柏，寓意"万古长青"。这些古树有的已有600多年历史，见证了明朝的兴衰更替。其中长陵的"九龙柏"尤为著名，树干纹路如九条蟠龙，相传为永乐帝亲手所植。'}},{id:"sacredWay",saying:"神道蜿蜒，通向永恒",theme:"建筑艺术",weight:70,story:{title:"十三陵的中轴线",content:'明十三陵共用一条长达7公里的神道，这条中轴线连接各陵，象征皇帝死后通往天国的道路。神道两侧古柏参天，庄严肃穆，体现了"事死如事生"的古代丧葬观念。'}},{id:"mingDynasty",saying:"明陵巍峨，诉说兴衰",theme:"历史沧桑",weight:95,story:{title:"明朝历史的缩影",content:"明十三陵埋葬了从永乐到崇祯共13位明朝皇帝，几乎涵盖了整个明朝历史。每座陵墓的建筑风格、规模大小都反映了当时国力的强弱，是研究明朝政治、经济、文化的重要实物资料。"}},{id:"eternalPower",saying:"皇权永恒，黄土一抔",theme:"历史感悟",weight:88,story:{title:"权力与死亡的思考",content:'明十三陵宏伟的建筑群展现了皇权的至高无上，但最终这些帝王也不过长眠于黄土之下。这种对比引发人们对权力、生命和历史的深刻思考，正如诗人所说："古今将相在何方？荒冢一堆草没了。"'}},{id:"stoneTablet",saying:"碑文斑驳，功过谁评",theme:"历史评价",weight:65,story:{title:"神功圣德碑的启示",content:'每座明陵前都立有神功圣德碑，记载皇帝的"丰功伟绩"。然而历史评价往往与碑文相去甚远，如万历皇帝碑文称颂其"圣明"，实则他二十余年不上朝，导致明朝加速衰亡。'}},{id:"lastEmperor",saying:"思陵孤寂，王朝终章",theme:"历史转折",weight:92,story:{title:"明朝的最后安息地",content:"思陵是明朝末代皇帝崇祯的陵墓，规模最小且位置偏僻。1644年李自成攻入北京，崇祯自缢于煤山，后由清廷草草安葬于此。思陵的凄凉景象，成为276年大明王朝的悲情终章。"}}]),p={风水格局:"#5a8f3d",陵寝规制:"#8b5a2b",考古发现:"#c17736",陵园景观:"#3a5c40",建筑艺术:"#7a6a56",历史沧桑:"#4a4a4a",历史感悟:"#6d4c41",历史评价:"#5d4037",历史转折:"#8d6e63"},s=u(null);let i=null;const l=A(()=>D.value.map(t=>({name:t.saying,value:t.weight,theme:t.theme,originalData:t})));function w(t){const a=t.data.theme;return p[a]||"#5c4d3c"}const h=()=>{s.value&&(i=M(s.value),d(),window.addEventListener("resize",i.resize))},d=()=>{const t={series:[{type:"wordCloud",shape:"circle",left:"center",top:"center",width:"90%",height:"90%",right:null,bottom:null,sizeRange:[12,60],rotationRange:[-45,45],rotationStep:90,gridSize:8,drawOutOfBound:!1,layoutAnimation:!0,textStyle:{fontFamily:"Noto Serif SC, Songti SC, STSong, serif",fontWeight:"bold",color:w},emphasis:{focus:"self",textStyle:{shadowBlur:10,shadowColor:"#333"}},data:l.value}]};i.setOption(t),i.off("click"),i.on("click",function(a){a.componentType==="series"&&a.seriesType==="wordCloud"&&C(a.data.originalData)})};V(l,()=>{i&&d()},{deep:!0});const S=u(!1),g=u(null),C=t=>{g.value=t,S.value=!0},B=()=>{S.value=!1,setTimeout(()=>{g.value=null},300)};return G(()=>{h()}),q(()=>{i&&(i.dispose(),window.removeEventListener("resize",i.resize))}),(t,a)=>(y(),v("div",De,[a[0]||(a[0]=r("h2",null,"明十三陵金句录",-1)),a[1]||(a[1]=r("p",{class:"subtitle"},"点击下方名句，探索其背后的历史故事与意境",-1)),r("div",Ce,[r("div",{ref_key:"wordCloudChart",ref:s,class:"echarts-chart"},null,512),!l.value||l.value.length===0?(y(),v("p",Fe," 金句加载中... ")):x("",!0)]),S.value?(y(),v("div",{key:0,class:"modal-overlay",onClick:J(B,["self"])},[r("div",Ae,[r("button",{class:"close-button",onClick:B},"×"),g.value?(y(),v("div",ke,[r("h3",Le,'"'+z(g.value.saying)+'"',1),r("p",Me,z(g.value.story.title),1),r("p",$e,z(g.value.story.content),1)])):x("",!0)])])):x("",!0)]))}},Oe=$(Ge,[["__scopeId","data-v-37393f63"]]),Ie={class:"legends-container"},Te={__name:"Legends",setup(O){const D=K(),p=()=>D.push("/landmarks/ming-tombs"),s=u([{year:"1524",title:"嘉靖祭天惊雷",period:"明嘉靖三年",type:"天象异事",color:"#8b4513",description:"嘉靖皇帝首次祭天时，天空突降惊雷，击中斋宫檐角。钦天监解读为上天警示，建议皇帝反省施政。嘉靖遂下诏减免赋税，大赦天下，此事被记入《明实录》。",significance:"此次雷击事件被视为上天对皇帝的警示，促使嘉靖皇帝反思治国方略，对后续政治改革产生了深远影响。",image:"https://picsum.photos/600/400?lightning=1"},{year:"1540",title:"大旱祈雨显灵",period:"明嘉靖十九年",type:"祭祀灵验",color:"#1e90ff",description:"华北连年大旱，嘉靖皇帝亲赴圜丘祈雨。祭祀礼成时，乌云突聚，甘霖普降三日。皇帝命在祈年殿前立'感应碑'记述此事，此碑至今犹存。",significance:"此次祈雨成功极大提升了皇家祭祀的权威性，巩固了天坛作为天人沟通圣地的地位，成为明清两代重要的政治象征。",image:"https://picsum.photos/600/400?rain=1"},{year:"1644",title:"崇祯最后一祭",period:"明崇祯十七年",type:"历史转折",color:"#b22222",description:"李自成兵临北京城下，崇祯皇帝仍按例赴天坛祭天。据《明史》记载，祭祀途中狂风大作，燎炉倾倒，被视为亡国凶兆。十日后，崇祯自缢煤山。",significance:"这次祭祀成为明朝最后一次皇家祭天仪式，象征着大明王朝的终结，具有重要的历史节点意义。",image:"https://picsum.photos/600/400?last=1"},{year:"1743",title:"乾隆祈谷奇观",period:"清乾隆八年",type:"祭祀灵验",color:"#1e90ff",description:"乾隆皇帝祈谷礼毕，数万燕子盘旋于祈年殿上空，形成'百鸟朝凤'奇观。乾隆视为祥瑞，命画院绘《天坛瑞应图》，并作《瑞应颂》诗文刻石纪念。",significance:"这一自然奇观被解读为上天对乾隆盛世的嘉许，极大提升了乾隆皇权的神圣性，成为康乾盛世的重要象征事件。",image:"https://picsum.photos/600/400?birds=1"},{year:"1889",title:"祈年殿雷火劫",period:"清光绪十五年",type:"天象异事",color:"#8b4513",description:"农历八月二十四日，祈年殿遭雷击起火，三昼夜方熄。京城轰动，传言'天罚昏君'。光绪帝顶住压力，耗银百万两重建，历时七年方成。",significance:"此次雷击事件引发朝野震动，光绪帝力排众议重建祈年殿，展现了皇权对天坛象征意义的重视，也为后世留下了珍贵的建筑遗产。",image:"https://picsum.photos/600/400?fire=1"},{year:"1899",title:"光绪祈雨传奇",period:"清光绪二十五年",type:"祭祀灵验",color:"#1e90ff",description:"北方大旱，光绪皇帝素服步行至圜丘祈雨。祭祀当日酷热难当，但礼成时忽起东风，三日内普降甘霖。京城百姓跪迎'圣雨'，此事件被多国使节记录在回忆录中。",significance:"在清朝国势衰微之际，此次祈雨成功短暂提振了皇权威望，成为晚清重要的政治宣传事件，展示了传统祭祀文化的持久影响力。",image:"https://picsum.photos/600/400?pray=1"}]),i=u(0);A(()=>s.value[i.value]);const l=u(null),w=u(null);let h=null,d=null;const S=A(()=>{const t={};return s.value.forEach(a=>{t[a.type]=(t[a.type]||0)+1}),Object.keys(t).map(a=>({name:a,value:t[a],itemStyle:{color:s.value.find(e=>e.type===a).color}}))}),g=A(()=>s.value.map(t=>({name:t.title,value:[t.year,1],itemStyle:{color:t.color},year:t.year,description:t.description.substring(0,60)+"..."}))),C=()=>{if(l.value){h=M(l.value);const t={tooltip:{trigger:"item",formatter:"{b}: {c}次 ({d}%)"},legend:{orient:"vertical",right:10,top:"center",textStyle:{color:"#5a4a42"}},series:[{name:"事件类型",type:"pie",radius:["40%","70%"],center:["40%","50%"],avoidLabelOverlap:!1,itemStyle:{borderRadius:10,borderColor:"#f5f2e9",borderWidth:2},label:{show:!0,formatter:"{b}: {c}次",fontSize:14},emphasis:{label:{show:!0,fontSize:16,fontWeight:"bold"}},labelLine:{show:!0},data:S.value}]};h.setOption(t),window.addEventListener("resize",()=>{h.resize()})}},B=()=>{if(w.value){d=M(w.value);const t=[];for(let e=1420;e<=1918;e+=10)t.push(e);const a={tooltip:{trigger:"item",formatter:function(e){return`<strong>${e.data.name}</strong><br/>
                  <span style="color:${e.color}">●</span> ${e.data.year}年<br/>
                  ${e.data.description}`}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",data:t,axisLine:{lineStyle:{color:"#8b4513"}},axisLabel:{color:"#5a4a42"},name:"年份",nameLocation:"middle",nameGap:30},yAxis:{type:"value",show:!1},series:[{name:"传奇事件",type:"scatter",symbolSize:function(e){return 20+e[1]*10},data:g.value,markLine:{symbol:"none",label:{formatter:"天坛传奇事件时间分布",position:"start"},lineStyle:{color:"#d4a76a",type:"solid"},data:[{yAxis:.5}]}}]};d.setOption(a),window.addEventListener("resize",()=>{d.resize()})}};return V(i,()=>{d&&(d.dispatchAction({type:"downplay",seriesIndex:0}),d.dispatchAction({type:"highlight",seriesIndex:0,dataIndex:i.value}),d.dispatchAction({type:"showTip",seriesIndex:0,dataIndex:i.value}))}),G(()=>{C(),B()}),(t,a)=>(y(),v("div",Ie,[r("button",{onClick:p,class:"back-button"},"← 返回故宫门户"),P(xe),P(Oe)]))}},We=$(Te,[["__scopeId","data-v-7c89d414"]]);export{We as default};
