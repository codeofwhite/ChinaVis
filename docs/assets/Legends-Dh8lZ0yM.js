import{_ as L,i as b,l as R,q as V,c as u,o as g,b as j,a as o,g as S,t as w,F as G,h as $,s as O,j as N,k as q,v as I,m as U,n as J,d as P,u as K}from"./index-B57BGp4X.js";import{_ as Q,G as T,M as W,S as X,a as Y,A as Z,I as ee,T as te,b as ae,E as oe,L as E,c as ie,d as H,B as se,e as ne,f as re,V as le,l as ce,g as de,h as ue,i as ge,D as ve}from"./wordCloud-DasmvTQY.js";import"./quadtree-CCDVtcAm.js";const pe={class:"palace-network-container"},he={key:0,class:"info-panel"},me={class:"panel-header"},ye={class:"panel-content"},be={class:"character-story"},fe={key:0,class:"details-section"},we={class:"relations-section"},_e={class:"relations-list"},ze={class:"relation-target"},Se={key:1,class:"hint"},Ce={__name:"GugongCharacterHub",setup(M){const C={nodes:[{id:"大栅栏",name:"大栅栏",val:30,color:"#D4AF37",type:"location",symbolSize:30,img:"/icons/dazhalan.png"},{id:"张一元",name:"张一元",val:20,color:"#228B22",type:"merchant",symbolSize:24,img:"/icons/zhangyiyuan.png"},{id:"同仁堂",name:"同仁堂",val:20,color:"#8B0000",type:"merchant",symbolSize:24,img:"/icons/tongrentang.png"},{id:"马连良",name:"马连良",val:18,color:"#6A0DAD",type:"artist",symbolSize:22,img:"/icons/malianliang.png"},{id:"瑞蚨祥",name:"瑞蚨祥",val:16,color:"#4682B4",type:"merchant",symbolSize:20,img:"/icons/ruifuxiang.png"},{id:"内联升",name:"内联升",val:16,color:"#2F4F4F",type:"merchant",symbolSize:20,img:"/icons/neiliansheng.png"},{id:"梅兰芳",name:"梅兰芳",val:16,color:"#9932CC",type:"artist",symbolSize:20,img:"/icons/meilanfang.png"},{id:"纪晓岚",name:"纪晓岚",val:16,color:"#DAA520",type:"official",symbolSize:20,img:"/icons/jixiaolan.png"},{id:"程长庚",name:"程长庚",val:18,color:"#6A0DAD",type:"artist",symbolSize:22,img:"/icons/chengchanggeng.png"},{id:"谭鑫培",name:"谭鑫培",val:15,color:"#6A0DAD",type:"artist",symbolSize:18,img:"/icons/tanxinpei.png"},{id:"广德楼",name:"广德楼",val:14,color:"#CD5C5C",type:"location",symbolSize:17,img:"/icons/guangdelou.png"},{id:"三庆园",name:"三庆园",val:13,color:"#CD5C5C",type:"location",symbolSize:16,img:"/icons/sanqingyuan.png"},{id:"李渔",name:"李渔",val:15,color:"#DAA520",type:"artist",symbolSize:18,img:"/icons/liyu.png"},{id:"乾隆皇帝",name:"乾隆",val:14,color:"#8B0000",type:"official",symbolSize:17,img:"/icons/qianlong.png"},{id:"鲁迅",name:"鲁迅",val:17,color:"#2F4F4F",type:"artist",symbolSize:21,img:"/icons/luxun.png"}],links:[{source:"张一元",target:"大栅栏",relation:"创立茶庄",color:"#228B22",width:4,curvature:.1},{source:"同仁堂",target:"大栅栏",relation:"创立药铺",color:"#8B0000",width:4,curvature:.1},{source:"马连良",target:"大栅栏",relation:"京剧表演",color:"#6A0DAD",width:4,curvature:.1},{source:"瑞蚨祥",target:"大栅栏",relation:"绸缎庄",color:"#4682B4",width:3,curvature:.2},{source:"内联升",target:"大栅栏",relation:"鞋店",color:"#2F4F4F",width:3,curvature:.2},{source:"梅兰芳",target:"大栅栏",relation:"京剧表演",color:"#9932CC",width:3,curvature:.2},{source:"纪晓岚",target:"大栅栏",relation:"文人活动",color:"#DAA520",width:3,curvature:.2},{source:"马连良",target:"梅兰芳",relation:"京剧同行",color:"#9400D3",width:2,curvature:.3},{source:"程长庚",target:"谭鑫培",relation:"师徒",color:"#4B0082",width:2,curvature:.3},{source:"广德楼",target:"大栅栏",relation:"戏楼",color:"#FF6347",width:3,curvature:.1},{source:"三庆园",target:"大栅栏",relation:"戏楼",color:"#FF6347",width:3,curvature:.1},{source:"程长庚",target:"三庆园",relation:"长期驻演",color:"#6A0DAD",width:2,curvature:.2},{source:"李渔",target:"大栅栏",relation:"戏曲活动",color:"#DAA520",width:3,curvature:.1},{source:"乾隆皇帝",target:"大栅栏",relation:"商业管理",color:"#8B0000",width:3,curvature:.1},{source:"鲁迅",target:"大栅栏",relation:"文化消费",color:"#2F4F4F",width:3,curvature:.1}]},c=b(null);let r=null;const n=b(null),v=b(null),_=b(C),f=b({nodes:[],links:[]}),z=b({nodes:[{id:"大栅栏",name:"大栅栏",val:30,color:"#D4AF37",type:"location",symbolSize:30,img:"/icons/dazhalan.png"},{id:"张一元",name:"张一元",val:20,color:"#228B22",type:"merchant",symbolSize:24,img:"/icons/zhangyiyuan.png"},{id:"同仁堂",name:"同仁堂",val:20,color:"#8B0000",type:"merchant",symbolSize:24,img:"/icons/tongrentang.png"},{id:"马连良",name:"马连良",val:18,color:"#6A0DAD",type:"artist",symbolSize:22,img:"/icons/malianliang.png"},{id:"瑞蚨祥",name:"瑞蚨祥",val:16,color:"#4682B4",type:"merchant",symbolSize:20,img:"/icons/ruifuxiang.png"},{id:"内联升",name:"内联升",val:16,color:"#2F4F4F",type:"merchant",symbolSize:20,img:"/icons/neiliansheng.png"},{id:"梅兰芳",name:"梅兰芳",val:16,color:"#9932CC",type:"artist",symbolSize:20,img:"/icons/meilanfang.png"},{id:"纪晓岚",name:"纪晓岚",val:16,color:"#DAA520",type:"official",symbolSize:20,img:"/icons/jixiaolan.png"},{id:"程长庚",name:"程长庚",val:18,color:"#6A0DAD",type:"artist",symbolSize:22,img:"/icons/chengchanggeng.png"},{id:"谭鑫培",name:"谭鑫培",val:15,color:"#6A0DAD",type:"artist",symbolSize:18,img:"/icons/tanxinpei.png"},{id:"广德楼",name:"广德楼",val:14,color:"#CD5C5C",type:"location",symbolSize:17,img:"/icons/guangdelou.png"},{id:"三庆园",name:"三庆园",val:13,color:"#CD5C5C",type:"location",symbolSize:16,img:"/icons/sanqingyuan.png"},{id:"李渔",name:"李渔",val:15,color:"#DAA520",type:"artist",symbolSize:18,img:"/icons/liyu.png"},{id:"乾隆皇帝",name:"乾隆",val:14,color:"#8B0000",type:"official",symbolSize:17,img:"/icons/qianlong.png"},{id:"鲁迅",name:"鲁迅",val:17,color:"#2F4F4F",type:"artist",symbolSize:21,img:"/icons/luxun.png"}],links:[{source:"张一元",target:"大栅栏",relation:"创立茶庄",color:"#228B22",width:4,curvature:.1},{source:"同仁堂",target:"大栅栏",relation:"创立药铺",color:"#8B0000",width:4,curvature:.1},{source:"马连良",target:"大栅栏",relation:"京剧表演",color:"#6A0DAD",width:4,curvature:.1},{source:"瑞蚨祥",target:"大栅栏",relation:"绸缎庄",color:"#4682B4",width:3,curvature:.2},{source:"内联升",target:"大栅栏",relation:"鞋店",color:"#2F4F4F",width:3,curvature:.2},{source:"梅兰芳",target:"大栅栏",relation:"京剧表演",color:"#9932CC",width:3,curvature:.2},{source:"纪晓岚",target:"大栅栏",relation:"文人活动",color:"#DAA520",width:3,curvature:.2},{source:"马连良",target:"梅兰芳",relation:"京剧同行",color:"#9400D3",width:2,curvature:.3},{source:"程长庚",target:"谭鑫培",relation:"师徒",color:"#4B0082",width:2,curvature:.3},{source:"广德楼",target:"大栅栏",relation:"戏楼",color:"#FF6347",width:3,curvature:.1},{source:"三庆园",target:"大栅栏",relation:"戏楼",color:"#FF6347",width:3,curvature:.1},{source:"程长庚",target:"三庆园",relation:"长期驻演",color:"#6A0DAD",width:2,curvature:.2},{source:"李渔",target:"大栅栏",relation:"戏曲活动",color:"#DAA520",width:3,curvature:.1},{source:"乾隆皇帝",target:"大栅栏",relation:"商业管理",color:"#8B0000",width:3,curvature:.1},{source:"鲁迅",target:"大栅栏",relation:"文化消费",color:"#2F4F4F",width:3,curvature:.1}]}),D={大栅栏:{story:"北京前门外著名商业街，兴起于明代，繁盛于清代，是北京商业文化的重要代表，聚集了众多老字号商铺和戏楼。",details:["始建于明永乐年间","清代成为北京最繁华的商业区","现存多家百年老字号"]},张一元:{story:"著名茶叶老字号，1900年在大栅栏创办，以茉莉花茶闻名京城，是北京人最喜爱的茶叶品牌之一。",details:["创办人张昌翼","1900年在大栅栏开业",'以"金般品质，百年承诺"为经营理念']},同仁堂:{story:'创建于1669年的中药老字号，1723年开始供奉御药，以"炮制虽繁必不敢省人工，品味虽贵必不敢减物力"为祖训。',details:["创始人乐显扬","1723年开始供奉御药","现为上市公司"]},马连良:{story:'京剧"马派"艺术创始人，民国时期在大栅栏广德楼等戏院演出，与梅兰芳齐名的京剧大师。',details:['京剧"四大须生"之首',"创立马派艺术","代表剧目《借东风》《甘露寺》"]},瑞蚨祥:{story:"创建于1862年的绸布店，以经营丝绸、呢绒、皮货等高档面料著称，曾为皇室贵族提供面料。",details:["山东孟氏家族创办","1949年为开国大典制作国旗","现仍在大栅栏营业"]},内联升:{story:'创建于1853年的布鞋老字号，以制作千层底布鞋闻名，有"头顶马聚源，脚踩内联升"的俗语。',details:["创始人赵廷","曾为皇室制作朝靴","千层底布鞋制作技艺列入非遗"]},梅兰芳:{story:'京剧表演艺术大师，"四大名旦"之首，民国时期常在大栅栏戏楼演出，创立梅派艺术。',details:["京剧表演艺术大师","代表剧目《贵妃醉酒》《霸王别姬》","将京剧推向世界"]},纪晓岚:{story:"清代著名学者、文学家，曾任《四库全书》总纂官，常在大栅栏一带会友、品茶、听戏。",details:["《四库全书》总纂官","文渊阁大学士","以才学和幽默著称"]},程长庚:{story:"京剧表演艺术家，京剧奠基人之一，长期在大栅栏三庆园演出，培养了大批京剧人才。",details:['京剧"前三鼎甲"之一',"三庆班班主","培养了谭鑫培等名家"]},谭鑫培:{story:'京剧表演艺术家，"同光十三绝"之一，师从程长庚，在大栅栏一带戏楼演出，创立谭派艺术。',details:['京剧"后三鼎甲"之一',"中国第一部电影《定军山》主演","代表剧目《空城计》《卖马》"]},广德楼:{story:'大栅栏著名戏楼，始建于1796年，与三庆园、庆乐园、同乐园并称"四大戏园"，梅兰芳、马连良等曾在此演出。',details:["始建于清嘉庆元年","北京现存最古老的戏楼之一","现仍在使用"]},三庆园:{story:"大栅栏著名戏楼，程长庚长期在此演出，是京剧形成和发展的重要场所。",details:["始建于乾隆年间","程长庚长期驻演","京剧重要发源地之一"]},李渔:{story:"明末清初文学家、戏剧家，所著《闲情偶寄》对戏曲理论有重要贡献，曾在大栅栏一带活动。",details:["戏曲理论家","《闲情偶寄》作者","《十二楼》等小说作者"]},乾隆皇帝:{story:"清朝皇帝，1756年下令在前门外设立五城兵马司，加强大栅栏商业区的管理，促进了大栅栏的繁荣。",details:["1756年设立五城兵马司","促进商业发展","多次微服私访大栅栏"]},鲁迅:{story:"著名文学家，民国时期常到大栅栏购买书籍、看戏，在日记中多次提及大栅栏。",details:["1912-1926年在北京居住","常到大栅栏购物","日记中多次提及大栅栏"]}},p=t=>{if(!t){f.value={..._.value};return}const i=_.value.links.filter(a=>a.source.id===t||a.target.id===t),e=new Set;e.add(t),i.forEach(a=>{e.add(a.source.id),e.add(a.target.id)});const s=_.value.nodes.filter(a=>e.has(a.id));f.value={nodes:s,links:i}},x=t=>{if(n.value&&n.value.id===t.id?(n.value=null,p(null),v.value=null):(n.value=t,p(t.id),v.value=D[t.id]||{story:"暂无详细信息。",details:[]}),r.graphData(f.value),r&&t){const e=Math.hypot(t.x,t.y,t.z),s=t.val?t.val*.1:1,a=(e>0?e:1)+150+s*5;r.cameraPosition({x:t.x*(a/e),y:t.y*(a/e),z:t.z*(a/e)},t,3e3)}},A=()=>{n.value=null,v.value=null,p(null),r.graphData(f.value),r&&r.cameraPosition({x:0,y:0,z:600},{x:0,y:0,z:0},1e3)};return R(()=>{if(p(null),c.value){r=Q()(c.value).graphData(f.value).nodeVal("val").nodeColor("color").nodeThreeObject(e=>{const s=new T,a=new W(new X(e.val*.2,32,32),new Y({color:e.color,transparent:!0,opacity:.4,blending:Z}));s.add(a);const h=new ee(e.val*.15,2),B=new te().load(e.img),l=new ae({map:B,specular:1118481,shininess:30,transparent:!0}),d=new W(h,l);s.add(d);const y=new oe(h),k=new E({color:e.color,linewidth:3}),F=new ie(y,k);F.scale.set(1.1,1.1,1.1),s.add(F);const m=new H(e.name);return m.color="#222",m.backgroundColor="rgba(255, 255, 255, 0.9)",m.borderColor=e.color,m.borderWidth=2,m.borderRadius=5,m.padding=8,m.textHeight=10,m.position.y+=e.val*.2+15,s.add(m),s.userData={originalScale:1,hoverScale:1.3},s}).linkColor(e=>e.color).linkWidth(e=>e.width).linkDirectionalParticles(0).linkDirectionalArrowLength(0).linkCurvature(e=>e.curvature).linkOpacity(.9).linkThreeObject(e=>{const s=new T,a=new se,h=new E({color:e.color,linewidth:e.width,transparent:!0,opacity:.9}),B=new ne(a,h);s.add(B);const l=new H(e.relation);return l.color="#333",l.backgroundColor="rgba(255, 255, 255, 0.6)",l.borderColor="rgba(0, 0, 0, 0.2)",l.borderWidth=1,l.borderRadius=3,l.padding=3,l.textHeight=10,l.visible=!1,l.material.depthTest=!1,s.add(l),s.userData={originalWidth:e.width,highlightWidth:e.width*3},e.__sprite=l,s.__updatePosition=(d,y)=>{const k=new Float32Array([d.x,d.y,d.z,y.x,y.y,y.z]);a.setAttribute("position",new re(k,3)),a.attributes.position.needsUpdate=!0;const F=new le(d.x+(y.x-d.x)*.5,d.y+(y.y-d.y)*.5,d.z+(y.z-d.z)*.5);Object.assign(l.position,F);const m=Math.atan2(y.y-d.y,y.x-d.x);l.rotation.z=m},s}).linkPositionUpdate((e,{start:s,end:a})=>{e.__updatePosition(s,a)}).backgroundColor("rgba(250, 245, 235, 0.8)").onNodeClick(x).onNodeHover(e=>{c.value.style.cursor=e?"pointer":null,_.value.links.forEach(a=>{a.__sprite&&(a.__sprite.visible=!1)});const s=n.value?f.value.links:_.value.links;e?s.forEach(a=>{(a.source&&a.source.id===e.id||a.target&&a.target.id===e.id)&&(a.__sprite&&(a.__sprite.visible=!0),r.linkColor(h=>h===a?"#ff0000":h.color))}):r.linkColor(a=>a.color)}).onLinkHover(e=>{c.value.style.cursor=e?"pointer":null}).d3Force("link",ce().id(e=>e.id).distance(350)).d3Force("center",de()).d3Force("collision",ue().radius(e=>e.val*.2+50)),r.cameraPosition({x:0,y:0,z:600}),r.scene().add(new ge(16777215,.8));const t=new ve(16777215,.8);t.position.set(100,100,100),r.scene().add(t),new ResizeObserver(()=>{c.value&&r&&(r.width(c.value.offsetWidth),r.height(c.value.offsetHeight))}).observe(c.value)}}),V(()=>{r&&r._destructor()}),(t,i)=>(g(),u("div",pe,[i[4]||(i[4]=j('<div class="header" data-v-18bdce12><h1 data-v-18bdce12>大栅栏历史人物关系网络</h1><p class="subtitle" data-v-18bdce12>明清民国时期与大栅栏相关的历史人物图谱</p></div><div class="legend-container" data-v-18bdce12><div class="legend" data-v-18bdce12><div class="legend-item" data-v-18bdce12><span class="legend-icon location" data-v-18bdce12></span><span data-v-18bdce12>大栅栏</span></div><div class="legend-item" data-v-18bdce12><span class="legend-icon merchant" data-v-18bdce12></span><span data-v-18bdce12>商贾</span></div><div class="legend-item" data-v-18bdce12><span class="legend-icon artist" data-v-18bdce12></span><span data-v-18bdce12>艺人</span></div><div class="legend-item" data-v-18bdce12><span class="legend-icon official" data-v-18bdce12></span><span data-v-18bdce12>官员</span></div></div><div class="relation-legend" data-v-18bdce12><div class="legend-item" data-v-18bdce12><span class="relation-line business" data-v-18bdce12></span><span data-v-18bdce12>商业关系</span></div><div class="legend-item" data-v-18bdce12><span class="relation-line cultural" data-v-18bdce12></span><span data-v-18bdce12>文化关系</span></div><div class="legend-item" data-v-18bdce12><span class="relation-line social" data-v-18bdce12></span><span data-v-18bdce12>社会关系</span></div></div></div><p class="legend-hint" data-v-18bdce12>更多关系类型请点击人物节点查看详情。</p>',3)),o("div",{class:"graph-wrapper",ref_key:"graphContainerRef",ref:c},null,512),n.value?(g(),u("div",he,[o("div",me,[o("h2",null,w(n.value.name),1),o("button",{onClick:A,class:"close-button"},i[0]||(i[0]=[o("svg",{viewBox:"0 0 24 24",width:"20",height:"20"},[o("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})],-1)]))]),o("div",ye,[o("div",be,[o("p",null,w(v.value.story),1)]),v.value.details&&v.value.details.length>0?(g(),u("div",fe,[i[1]||(i[1]=o("h3",null,"历史细节",-1)),o("ul",null,[(g(!0),u(G,null,$(v.value.details,(e,s)=>(g(),u("li",{key:s},w(e),1))),128))])])):S("",!0),o("div",we,[i[2]||(i[2]=o("h3",null,"关联关系",-1)),o("div",_e,[(g(!0),u(G,null,$(z.value.links.filter(e=>e.source===n.value.id||e.target===n.value.id),e=>{var s,a;return g(),u("div",{key:`${e.source}-${e.target}`,class:"relation-item",style:O({borderLeftColor:e.color})},[o("div",{class:"relation-type",style:O({color:e.color})},w(e.relation),5),o("div",ze,w(e.source===n.value.id?(s=z.value.nodes.find(h=>h.id===e.target))==null?void 0:s.name:(a=z.value.nodes.find(h=>h.id===e.source))==null?void 0:a.name),1)],4)}),128))])])])])):S("",!0),n.value?S("",!0):(g(),u("div",Se,i[3]||(i[3]=[o("p",null,"点击节点查看详细信息 • 拖动旋转视图 • 滚轮缩放",-1)])))]))}},De=L(Ce,[["__scopeId","data-v-18bdce12"]]),Ae={class:"sayings-wrapper"},Fe={class:"sayings-wordcloud-container"},xe={key:0,class:"loading-text"},Be={class:"modal-content"},ke={key:0},Le={class:"modal-title"},Me={class:"modal-story-title"},Ge={class:"modal-story-content"},$e={__name:"PalaceSayings",setup(M){const C=b([{id:"oldBrand",saying:"老字号，老味道，老讲究",theme:"商业传承",weight:90,story:{title:"百年商业的金字招牌",content:"大栅栏是中华老字号的聚集地。这里有同仁堂的济世医心，瑞蚨祥的丝绸华丽，内联升的布鞋匠心。这些老字号不仅是商品的载体，更是技艺、信誉和文化的传承。每一件商品背后，都凝结着数代人的坚持与讲究，它们共同构筑了大栅栏独特的商业生态。"}},{id:"hutongCharm",saying:"胡同深处，生活百年",theme:"市井生活",weight:85,story:{title:"京味儿民俗的活化石",content:"穿梭于大栅栏的胡同，你会发现这里保留着最纯粹的老北京生活气息。那些四合院、青砖灰瓦，记录着普通百姓的喜怒哀乐。邻里间的家长里短，夏日傍晚的摇扇闲聊，都让胡同充满了人情味儿。它不仅是居住空间，更是京味儿文化得以延续的温床。"}},{id:"qianmenWai",saying:"前门外，繁华尽入眼",theme:"地理与变迁",weight:80,story:{title:"城外商业的繁盛之地",content:"“前门外”不仅仅是一个地理方位，它代表了北京城在清末民初商业最鼎盛的区域。昔日，从城里出来的达官贵人、贩夫走卒，都汇聚于此。戏园、茶楼、商铺林立，人声鼎沸，夜市通宵达旦。大栅栏正是这片繁华的核心，见证了老北京的商业脉搏。"}},{id:"broadwayOfBeijing",saying:"戏楼弦歌，京韵悠长",theme:"文化艺术",weight:75,story:{title:"京剧的发祥与兴盛",content:"大栅栏曾经是京城最重要的戏园子聚集地，广德楼、三庆园、庆乐园等名角荟萃。谭鑫培、梅兰芳等京剧大师都曾在此登台献艺。一声声锣鼓，一段段唱腔，不仅是娱乐，更是京剧艺术从萌芽到成熟的温床，奠定了它作为国粹的地位。"}},{id:"localTaste",saying:"卤煮爆肚，舌尖京味儿",theme:"特色美食",weight:70,story:{title:"地道小吃的诱惑",content:"大栅栏是北京小吃的天堂。焦圈、豆汁、炒肝、卤煮火烧、爆肚……这些看似朴实却充满独特风味的小吃，承载着老北京人的集体记忆。它们是市井生活的真实写照，也是味蕾对传统文化最直接的体验，让游客在品尝中感受京味儿。"}},{id:"pedestrianStreet",saying:"步行街上，新旧交融",theme:"城市更新",weight:65,story:{title:"传统街区的现代转型",content:"如今的大栅栏步行街，在保留原有历史风貌的同时，也融入了现代商业元素。老字号焕发新颜，文创店、咖啡馆也悄然入驻。这种新旧交融的格局，是大栅栏在城市发展中积极探索的结果，力求在传承中创新，让百年街区焕发新的活力。"}},{id:"firefighter",saying:"消防局，见证沧桑",theme:"历史事件",weight:60,story:{title:"火灾与重建的记忆",content:"大栅栏地区历史上曾多次遭受火灾，其中以庚子事变（1900年八国联军侵华）后的大火最为惨重，几乎将整条街区付之一炬。然而，每次灾难后，大栅栏都能迅速重建，并再次繁荣起来。街区内的老消防局，如今已成历史遗迹，默默诉说着这片土地的坚韧与凤凰涅槃。"}},{id:"culturalHeritage",saying:"非遗活态，传承京韵",theme:"文化艺术",weight:95,story:{title:"传统技艺的活态展示",content:"大栅栏不仅有物质遗产，更有着丰富的非物质文化遗产。许多老字号的传统制作技艺，如内联升的手工布鞋、张一元的茉莉花茶窨制，都已列入非遗名录。在这里，你可以看到、体验到这些活态的文化传承，感受传统匠人的执着与坚守。"}},{id:"meltingPot",saying:"南来北往，汇聚成街",theme:"市井生活",weight:78,story:{title:"多元文化的交汇之所",content:"作为前门外的商业中心，大栅栏自古就是各色人等汇聚之地。小商贩、艺人、游客、居民，南腔北调，五湖四海。这种多元的文化交融，使得大栅栏形成了开放包容、充满活力的独特氛围，也塑造了其丰富的市井百态。"}}]),c={商业传承:"#a0522d",市井生活:"#d2691e",地理与变迁:"#cd853f",文化艺术:"#b8860b",特色美食:"#f4a460",城市更新:"#8b4513",历史事件:"#696969"},r=b(null);let n=null;const v=N(()=>C.value.map(t=>({name:t.saying,value:t.weight,theme:t.theme,originalData:t})));function _(t){const i=t.data.theme;return c[i]||"#5c4d3c"}const f=()=>{r.value&&(n=J(r.value),z(),window.addEventListener("resize",n.resize))},z=()=>{const t={series:[{type:"wordCloud",shape:"circle",left:"center",top:"center",width:"90%",height:"90%",right:null,bottom:null,sizeRange:[12,60],rotationRange:[-45,45],rotationStep:90,gridSize:8,drawOutOfBound:!1,layoutAnimation:!0,textStyle:{fontFamily:'SimSun, "STSong", serif',fontWeight:"bold",color:_},emphasis:{focus:"self",textStyle:{shadowBlur:10,shadowColor:"#333"}},data:v.value}]};n.setOption(t),n.off("click"),n.on("click",function(i){i.componentType==="series"&&i.seriesType==="wordCloud"&&x(i.data.originalData)})};q(v,()=>{n&&z()},{deep:!0});const D=b(!1),p=b(null),x=t=>{p.value=t,D.value=!0},A=()=>{D.value=!1,setTimeout(()=>{p.value=null},300)};return R(()=>{f()}),I(()=>{n&&(n.dispose(),window.removeEventListener("resize",n.resize))}),(t,i)=>(g(),u("div",Ae,[i[0]||(i[0]=o("h2",null,"大栅栏金句录",-1)),i[1]||(i[1]=o("p",{class:"subtitle"},"点击下方名句，感受京味儿市井的百年变迁与底蕴",-1)),o("div",Fe,[o("div",{ref_key:"wordCloudChart",ref:r,class:"echarts-chart"},null,512),!v.value||v.value.length===0?(g(),u("p",xe," 金句加载中... ")):S("",!0)]),D.value?(g(),u("div",{key:0,class:"modal-overlay",onClick:U(A,["self"])},[o("div",Be,[o("button",{class:"close-button",onClick:A},"×"),p.value?(g(),u("div",ke,[o("h3",Le,"“"+w(p.value.saying)+"”",1),o("p",Me,w(p.value.story.title),1),o("p",Ge,w(p.value.story.content),1)])):S("",!0)])])):S("",!0)]))}},Oe=L($e,[["__scopeId","data-v-d7e62779"]]),Pe={class:"legends-container"},Te={__name:"Legends",setup(M){const C=K(),c=()=>C.push("/landmarks/dashilan");return(r,n)=>(g(),u("div",Pe,[o("button",{onClick:c,class:"back-button"},"← 返回大栅栏门户"),P(De),P(Oe)]))}},Re=L(Te,[["__scopeId","data-v-8ab27538"]]);export{Re as default};
